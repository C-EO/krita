commit 7dd75f9d5c6772b7aa55854e6a04bb53890d914f
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Oct 7 10:28:03 2021 +0200

    Fix TestAbrStorage
    
    (cherry picked from commit e4b9270ee37d42547e092a7f6d88d7c16952bfca)

commit 6d235340465d6def5437f5ef5b9d8069c9b814f4
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Oct 6 15:32:31 2021 +0200

    Create a tag for every ABR file
    
    So we can at least filter on them.
    
    (cherry picked from commit 95bce12bebefeccd176ab3d78408645f21e28f42)

commit 4175ddcd23cf890ce592e936cd8581b6dd54733f
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Wed Oct 6 12:57:04 2021 +0000

    Re-Label and Disambiguation works (for 5.0 branch)

commit a01b00be12f4a469c16407b8b4b29cdab187a0e5
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Oct 6 13:59:58 2021 +0200

    Update to version 5.0.0-beta2

commit d6ad423dc8bcc370ac1f5183aa4f57c7e0fbeb00
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Wed Oct 6 12:22:59 2021 +0300

    Fix brush pattern not being loaded randomly
    
    m_enabled is just not initialized in this function

commit 4fd89821f186b2ed67af45dcb68c10d92a559a11
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Wed Oct 6 10:38:23 2021 +0300

    Remove unused variable

commit 3a8e67a820507350754a6cb1c8e142f317d0fb1e
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Wed Oct 6 10:37:39 2021 +0300

    Move resource fetching fallback code into KisResourcesInterface
    
    It basically removes code duplication, where each calling place
    should have parse the returned set of resources manually.

commit 4b91adba15b872bd6c886ac45ef4663e2cfa1255
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Oct 6 11:54:26 2021 +0200

    Add more possible .pat mimetypes to the pattern loader
    
    (cherry picked from commit 965fcec2eb71b42ab2946a76e2028ce621c1a18b)

commit 23c911c4baff3009641d571f79e7ff62397691b2
Author: Tom Tom Tom <tomtomtomreportingin@gmail.com>
Date:   Mon Sep 20 02:19:43 2021 -0400

    Fix Split Strokes sig/slot connection for cumulative undo
    
    (cherry picked from commit 911b2c77406e1eef675a05556e6ad5def6ce2423)

commit 02920a6b7db9e9f2a7924446d5497aca4945942d
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Tue Oct 5 11:14:33 2021 +0000

    Bugfix: Don't disable undo/redo actions
    
    The intermediate actions (like that of transform tools) don't create an
    undo action on primary undo stack which leaves undo action as disabled
    until the `KisActionManager::updateGUI` is triggered which re-enables
    the actions.
    
    BUG:443188
    (cherry picked from commit e7216af7cc6f0d9c078faf20422a79d1ce834786)

commit ad2ea872c8e3af379c26bd4f07757b79ef2938c0
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Wed Oct 6 09:08:53 2021 +0300

    Add APIDOX to the new KoResourceCacheInterface-based classes
    
    The patch also adds a huge wall of explanations for the whole
    preset-interfaces infrastructure.

commit e9250a60b3d58e122209cc6c3a55768176d2d032
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Wed Oct 6 06:39:44 2021 +0200

    Fix compilation of KResUserOperations

commit 0497b34f03283faf228b9e1506d550da4a04a7b0
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Wed Oct 6 06:02:18 2021 +0200

    Fix logic for adding or renaming resources with the same names
    
    Adds:
    - checking for the same name regardless whether it uses "_" or " "
    - ensuring that it looks up in the resource folder only if
    we do want to add the resource to the resource folder
    (other storages are not handled, maybe yet, maybe never)

commit 107a75ec5dfe1838a52c6bf8d55cb332a83c07d5
Author: Ivan Yossi <ghevan@gmail.com>
Date:   Thu Sep 16 17:49:09 2021 -0500

    HACK fix: GL_MULTISAMPLE_EXT is undefined on macOS

commit 1b6a20f5325e652cceae631de4bf3d22c9e0cbc7
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Sun Sep 19 11:19:33 2021 +0300

    Fix typo in MacOS-specific CMakeLists.txt code
    
    The targets were just duplicated in the list

commit 9bd53486d0d41becd923ca04d5163b9b0ceeef3b
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Oct 5 09:10:32 2021 +0300

    Fix threading issues when initializing brush caches in the background
    
    Now the cache intialization is done in the following order:
    
    1) Make a clone of the preset with all the dependent resource
       (so that we could pass it to a non-gui thread)
    
    2) In a non-gui thread regenerate all the caches for this **cloned**
       preset and store them in KoResourceCacheStorage.
    
    3) Check if the original preset hasn't changed since we have cloned it
    
    4) If the original preset is still valid, upload the generated
       cache into it via setResourceCacheInterface()
    
    BUG:443306

commit 25a238912175837a29586fab58a414b46c8614de
Author: L. E. Segovia <amy@amyspark.me>
Date:   Mon Oct 4 14:19:59 2021 +0000

    GMIC: update to 2.9.9 patch 2
    
    BUG: 443014

commit 7109bd4908ef1de318ee053fc33f00c1ee269d62
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Sun Oct 3 18:08:21 2021 +0200

    Use WithUserInput in more places
    
    Before this commit, there were still several places that used
    KoResourceServer or even models with 'addResource', 'updateResource',
    'renameResource' or 'updateResourceFile'. This commit ensures
    that they are all using WithUserInput functions instead
    from the class KisResourceUserOperations.

commit cd5790091026d67cfe0d36d3234d7d100ca4a3c3
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Sun Oct 3 17:17:14 2021 +0200

    Rename ...OverwriteDialog to ..UserOperations
    
    Before this commit, KisResourceUserOperations class
    was called KisResourceOverwriteDialog because the only
    thing it provided was the dialog whether the user wants to overwrite
    the resource or not.
    This commit changes the name to be more appropriate
    and describe better what the class provides.

commit a89211c5640b9e665232dd9dc3539dd19080223e
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Fri Oct 1 19:08:16 2021 +0200

    Replace ResourceServer with WithUserInput in a few places
    
    Before this commit, KisDlgSavePreset, KisCustomPattern widget,
    Taskset docker, KisClipboardBrushWidget and KisCustomBrushWidget
    used KoResourceServer to add resources.
    This commit replaces it with addResourceWithUserInput.

commit 186ef13e57e353bc91778208bf7ae2ae0496a1e5
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Thu Sep 30 15:22:10 2021 +0200

    Use WithUserInput functions for palettes and presets
    
    Before this commit, palette view used updateResource and
    presets editor used renameResource. This commit changes them
    to updateResourceWithUserInput and renameResourceWithUserInput.

commit e8a42d7b35cbb044813c667f75a4b98edb513f64
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Thu Sep 30 02:01:53 2021 +0200

    Use WithUserInput functions for resourceItemChooser etc.
    
    Before this commit, KisResourceItemChooser, KisDlgLayerStyle,
    KisWorkspaceChooser and GamutMasksDock used addResource
    method from KisResourceModel. This commit replaces it with
    addResourceWithUserInput function.

commit 5718491bb9d965dda094bd3cf51c86bacd4375a3
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Wed Sep 29 16:34:21 2021 +0200

    Add updateResourceWithUserInput function
    
    Before this commit, updateResource would be able to rename a resource
    without asking the user if they really want to have multiple resources
    with the same name.
    This commit adds the updateResourceWithUserInput functon to make sure
    that the rename is detected and handled correctly.

commit 2776ae3c7a9b74d84ff7a0a3fb3df3ea9367ba58
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Wed Sep 29 16:22:32 2021 +0200

    Use WithUserInput method for creating a workspace in chooser

commit 7093da66be396719aaa9bffe92ce13fef2edaa7d
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Wed Sep 29 04:44:34 2021 +0200

    Use the same logic for palettes, sessions and workspaces
    
    Before this commit, handling palettes, sessions and workspaces
    was handled in their own respective widgets. This commit
    removes old logic and replaces it with the call to
    the KisResourceOverwriteDialog which contains universal logic
    for renameResource, addResource and importResourceFile.
    
    CCBUG:443079

commit 9ad96d114c88e24c3a9a3c1161e746cdc8646a19
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Wed Sep 29 04:41:13 2021 +0200

    Add import, rename and add functions with user input
    
    Before this commit, there was no central place where the code
    for importing, adding or renaming resources with user input
    was located. Every widget had to use KisResourceModel
    and handle the user input (asking the user for confirmation,
    showing the error messages etc.) on their own. This led to
    differences between handling different resources
    and problems making sure the logic is the same everywhere.
    This commit adds the functions in one central place.

commit e27e9890b12e4953c94c25ded02dfbb85780b134
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Wed Sep 29 04:38:20 2021 +0200

    Add storage argument to getResourceIdFromVersionedFilename
    
    Before this commit, the getResourceIdFromVersionedFilename
    function didn't have an argument for storage. That means it looked
    for the same filename for a resource of the same type no matter
    in which storage it was located.
    This commit adds a storageLocation parameter to the function.

commit 0cd2ea87b0719cb8a496fd0a96de2434a909ae10
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Wed Sep 22 02:14:02 2021 +0200

    Move Perspective assistant drawing to drawAssistant from drawCache
    
    Before this commit, the grid of the Perspective Assistant was drawn
    in the drawCache, which caused performance issues when using
    the perspective assistant and zooming in a lot.
    (test method: zoom in a lot, so it's around 1600%, and then zoom in
    and out very quickly using your mouse wheel. It's instant with this
    patch, but slow without the patch. Note that if the Configure Krita ->
    Display -> Canvas Acceleration is off, it's still super slow).
    
    This commit does two things:
    - crops the drawn lines to the viewport
    - moves the whole drawing action to drawAssistant
    Note: just cropping the drawn lines, but still using the cache,
    didn't improve the assistants performance that much.
    There must be some inherent issue with this caching method.
    
    BUG:411352

commit aeeaa27621dd6bfe34911ab6c5955648836f0dfa
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Thu Sep 30 15:53:59 2021 +0200

    Change default gradient to Foreground to Transparent
    
    Before this commit, the default gradient was always
    Foreground to Background because that was the one with index 0.
    This commit changes it to have Foreground to Transparent gradient
    as default.

commit 511c1c7eb9262e7971afe91ee619450ab5dd90ce
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Tue Sep 28 01:50:35 2021 +0200

    Select session by index, not md5
    
    Before this commit, selecting the session had two part:
    - get the md5 of the session using the model data
    - get the session by md5
    This commit changes it to use the index to directly request the session
    from the model.

commit 307197c2e390211f25f3b877722df0a2ad8c9b32
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Tue Sep 28 01:45:13 2021 +0200

    Add simple error messages to session manager
    
    Before this commit, even if some operation failed,
    there was no error message to the user.
    This commit adds two simple error messages
    when the rename fails and when creating a session fails.

commit 9ae754d7869ae4322fcc2d86af7f9dd4f1fbb746
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Tue Sep 28 01:36:52 2021 +0200

    Fix md5sum in db to always represent the current resouce file
    
    Before this commit, the md5sum in the database would always be
    the same as the md5sum of the resource file of the first version
    of the resource.
    This commit ensures that the md5sum is updated in the database
    to the latest version when a new version is created.

commit 1fda121446e70ca0598065f2ccc3f87b9c966f50
Author: Halla Rempt <halla@valdyas.org>
Date:   Sun Oct 3 11:56:40 2021 +0200

    Notifier: set the default value to "true"
    
    BUG:443248
    (cherry picked from commit 830d8e31eb53eafd164d13a6e7085d824005ce3d)

commit 2b1af4dee62b219e80bb3be82b13478828209965
Author: Mathias Wein <lynx.mw+kde@gmail.com>
Date:   Fri Oct 1 13:45:29 2021 +0200

    Avoid leaking "Create new document" dialogs
    
    If the dialog was just closed with the button in the window title bar,
    it never triggered any signal that would delete it.
    And generally, having KisPart delete it is a strange design, it cannot
    really know if it was allocated on the heap in the first place, nor should
    it be responsible for closing the dialog.
    
    Instead, make the dialog buttons call QDialog::accept() or
    QDialog::reject() accordingly, and delete the dialog where it was allocated.
    
    (cherry picked from commit e5f10d40b1c5a926e39dff3655b573d00ffef776)

commit 5dada1e5047d2194a473c611860996d32e0e0aaf
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Fri Oct 1 14:38:17 2021 +0300

    Fix artifacts in Hue sensor in colorsmudge brush
    
    m_hsvTransform had been created before m_paintColor was converted
    into the correct color space. It meant tha m_hsvTransform manipulated
    pixels in a different colorspace (16i) instead of 16f or 32f :)
    
    BUG:441755

commit ce3fc08b904bb8b4417997dad832bf645e89ee7e
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Fri Oct 1 13:02:18 2021 +0300

    Fix updates in wraparound mode
    
    The previos algorithm was just incorrect, it rewritten the central line
    multiple times (due to the shared value in lambda) :(
    
    BUG:442796

commit 25f7109161af140057b0699eda35077b06132879
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 30 16:06:23 2021 +0300

    Fix updates of shapes belonging to a transformed group
    
    shapeInterface()->removeShape(this) must be called before we reset
    the parent of the shape, because it calls shapeToBeRemovedFromHierarchy()
    which issues updates for the shape removal. The latter call should have
    access to the absolute transformation for these updates.
    
    BUG:443161

commit 1086af8f5f989aa1b71efcf61c53aea87f8a7abf
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 30 12:36:06 2021 +0000

    Android: Fix offset between assistants and tablet pointer
    
    (cherry picked from commit 6fbfde2855be68db97d8abd23d08ebeee4cca0c6)

commit 4c43c0cc93ea95cc1808a16e08d44e508b006b2d
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Wed Sep 29 06:17:07 2021 +0000

    Android: Fix saving custom config
    
    KConfigIniBackend relies on QLockFile which changes the content Uri and
    this is bound to fail because we don't have permission. So, for these
    Uris we use the internal cache to save the temp files.
    
    (cherry picked from commit 96794d13ab5b87e2148c089f25cbf404312e04b6)

commit 25d1078376c5c83597041196ccd7f2efc6ee4b8e
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 23 14:13:27 2021 +0000

    Android: Enable Vc
    
    This works for x86 targets
    
    (cherry picked from commit 128ca9bce431140fa107f6beb08e1f39507921ee)

commit ac8f633a68ae43ffa8a1eac3f951c279587f9ad4
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Fri Sep 24 11:41:57 2021 +0000

    Android: Increase the default font size of text tool
    
    (cherry picked from commit c4c7251c599edb4cf5dd3057470d4fd7e5bb3ba4)

commit 9de26e228305220a81ee0a73b7de38b6c4e255ba
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 23 12:04:02 2021 +0000

    Handle button and modifiers for touch events in KoPointerEvent
    
    This makes tools like Freehand Path Tool and Bezier Path tool work
    properly.
    
    (cherry picked from commit 83b2d93d8596d8233ca29226739ddedaab308748)

commit 5f09f93640786a1a7f8f3b39000a319e1732fb91
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 23 12:02:52 2021 +0000

    Bugfix: Propagate TouchBegin event
    
    We used to ignore the TouchBegin event which would in some cases not
    activate the tool.
    
    BUG:438636
    (cherry picked from commit 652f001e8a704971fa0435165858c3896040e6f5)

commit c4181e442c855cfe60600cad805f820547b022b8
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 30 14:13:33 2021 +0300

    Fix the link to canvasResourcesInterface() for masking presets

commit 323805d23cb950d5f7d6bb67fadf6c4b8e2194b4
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 30 14:12:56 2021 +0300

    Implement a cache for masked brushes by KisPresetShadowUpdater
    
    Masked brushes are initialized in two steps:
    
    1) KisPresetShadowUpdater calls KisPaintOpPreset::coldInitInForeground()
       to create the cache of the masking preset in the GUI thread (to be able
       to fetch resources needed by the masking preset)
    
    2) KisPresetShadowUpdater calls KisPaintOpPreset::coldInitInBackground()
       to regenerate caches of the masking preset, like outline and pyramid.
    
    BUG:436731

commit d016bab1b1df0b5f6ec64c35167ecf4cf1fe6c28
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 30 13:04:05 2021 +0300

    Remove a link from KisPaintOpSettings to KisPaintOpConfigWidget
    
    It looks like this link is not used anymore...

commit d834d1e577bbdf2272f4cff99185495422eefedb
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 30 11:54:59 2021 +0300

    Refactor KisPaintOpProxy::updateProxy() framework
    
    The patch fixes multiple regressions in the paintop presets:
    
    1) Fixes the memory leak of all the update proxies and their parents
    
    2) Finishes the previous refactoring to break all the links from
       KisPaintOpSettings to KisPaintOpPreset. Now there is a DIP-based
       solution (KisPaintOpSettings::UpdateListener)
    
    3) Remove incorrect cloning of the update proxy links on cloning
       of the settings object.

commit 488a2deecd67fd02a6c77c4edefbca30e807377b
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 30 08:02:50 2021 +0300

    Fix masking brush to work in alpha-mask mode instead of Lightness mode
    
    Since recently the brushes with alpha channel have started to work
    in Lightness mode by default. It breaks masking brushes, which are
    supposed to work in alpha-mask mode.

commit 329a458ebdacb7a527eca4d349afeaf46ead4e38
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Wed Sep 29 11:58:23 2021 +0000

    Fix build

commit df174a3ba2694e6763279427fc36136d82dcad94
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Wed Sep 29 14:17:19 2021 +0300

    Remove debugging from KisPaintOpSettings::createMaskingSettings()
    
    I guess it has been added accidentially

commit ab3365ff76bdd5dfbc9e83e22b108531ae0041c2
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Wed Sep 29 13:52:44 2021 +0300

    Fix delays on the stroke start when the brush is too big
    
    This patch implements two things:
    
    1) Makes sure that KisBrushBasedPaintOpSettings::m_savedBrush is
       actually passed by into the stroke (with cloning of course).
       Cloning of brushes is cheap due to lazy copying mechanism of
       QImage.
    
    2) Implements a special manager class (KisPresetShadowUpdater) that
       regenerates brush'es heavy data structures (such as brush outline
       and image pyramid) in background (with a 1500 ms delay after the
       brush change).
    
    It means that the brush on the server will always store the correct
    data cached. When the user starts the stroke, this data is just cloned
    and passed to the stroke without extra recalculation (which may take
    up to 1000 ms for heavy brush tips).
    
    ** POSSIBLE REGRESSIONS **
    
    1) It may happen that the brush outline will be outdated after some of
       the brush settings are changed.
    
    2) It may happen that the changes in the brush settings will not be
       visible in the actual stroke right aftert that.
    
    I haven't seen these regressions in real life, but, theoretically,
    they can happen.
    
    BUG:436731

commit 6839165795970fa27afa77001b015cdd3fd4a43a
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Sep 28 13:12:05 2021 +0300

    Fix too many copies of KisQImagePyramid on every start of the stroke
    
    We should generate the pyramid only once, before making <numcpu>
    clones. Otherwise, it can delay the stroke quite a bit on bigger
    brushes.
    
    CCBUG:436731

commit 5e61653d9472bb1b7aa4aab628e0f39d5c591712
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Sep 28 13:01:23 2021 +0300

    Fix compilation on Android

commit 6b2ac81faf510021273580a76f126a6b0bb6d888
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 30 10:24:31 2021 +0200

    Add a debug() method for KoAbstractGradient
    
    (cherry picked from commit 2b9e95ad0bece44a2b7f7a8d0450de5cb8d71f77)

commit 6ea0788a163856cd854fc2cfa4f62468958b9e7f
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 30 13:55:12 2021 +0200

    Check more possible *.pat mimetypes
    
    This should help loading *.pat files on systems with an older
    shared-mime-info database that doesn't yet contain the image/x-gimp-pat
    mimetype.
    
    CCBUG:443151
    (cherry picked from commit 6e120fbfc52ab67932c9b53f26ed75a0e5472cfb)

commit f15464962fd61a47b65a7b2ff31ddc0f357c7220
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Sep 29 14:00:04 2021 +0200

    Fix saving tag desktop files: the Tag entry was missing
    
    BUG:442888
    (cherry picked from commit ed74fee33080187f8c9dbd09e5efb995e3c8d567)

commit d144dcf7cd4f84525d4e41e63ebb6e8a3605a728
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Sep 28 09:48:17 2021 +0300

    Hide masking brush label until we get translators' approval

commit 044d280a67d2fc0066a3746a2e9d09c93282e298
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 27 18:52:52 2021 +0300

    Fix max size of the masking brush in the brush editor widget
    
    We set the limit to the masking brush to 3x value of the max size
    of the nurmal brush. It is needed to make sure that masking brush size
    scales correctly when the brush is resized (they are linked
    proportionally).
    
    The limit was present here for ages, but the widget had incorrect
    range set.

commit 654d749577d012e5b9f9418420181a049afc8563
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 27 18:29:07 2021 +0300

    Move ad-hoc max brush size fetching code into KisImageConfig
    
    We used to read it manually by the key for all over Krita

commit 432469ea1317742735d61fe88fa3d807cdd83217
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 27 16:25:59 2021 +0300

    Add a warning when masking brush is too big
    
    It basically adds a warning to the brush editor window. There is
    still a slight usability issue: this warning resizes the editor
    itself. I didn't check whether we can avoid that or not.

commit e26368dc951d9038eed3c28dfc09f0d6422336ee
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 23 15:13:40 2021 +0300

    Make sure that all the canvas elements are rendered with correct alignment
    
    Everything, background, checkers, image and grid should be painted
    with update rect properly aligned to the device pixels.

commit c2957b2d0822afeef27d165713757fdf8bced2c8
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Wed Sep 22 15:21:10 2021 +0300

    Fix artifacts on the canvas when the display scaling is set to 110%
    
    The problem is that we do "cropping" of the painted area twice during
    one frame. Firstly, we enable stencil test to avoid too much pixels
    to be rendered. And secondly, we limit the number of tiles that
    are rendered on screen. And these two limit must agree in how they
    do rounding.
    
    CCBUG:442796

commit 5e4fab658192c507dff06c69d92ba04a850ebc53
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Sep 21 14:18:13 2021 +0300

    Add more notes about float2int implementation
    
    The argument cannot be negative just because of the way how we
    use it. We always clamp the value in advance.

commit 55ce4e3a381620fb53cdc28ef5d2661646f8da2b
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Sep 21 12:11:53 2021 +0300

    Increase tolerances in KisPainterTest
    
    Our CI runs tests without Vc library, so the rounding is a bit different

commit 86f415aa0404704e52cf1159c73d6798bc17d62f
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Sep 21 12:09:50 2021 +0300

    Skip vector rounding tests when no Vc library is present

commit e9c6e743118d20a9003b60e70c0353977d65491f
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 20 17:35:00 2021 +0300

    Fix canvas widget updates when the image in WrapAround mode
    
    The previous algorithm caused updates to fail in some cases, especially
    when the canvas was rotated.

commit 632e4a614f6137db7afd3055810507a9d472c9ed
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Fri Sep 24 11:24:42 2021 +0300

    Add a check for GL_ARB_map_buffer_range
    
    The other two are the checks for openGLES. Qt can work with any of
    them (full or range).

commit 0a3a8565f64fc74f690e33f978b7955d92e9e44e
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Fri Sep 24 11:11:07 2021 +0300

    Add a note about disabling VAO on openGL < 3.0 and openGLES < 3.0

commit b5add32086c6789e5458c319b0d636ac92fec632
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 23 14:18:53 2021 +0300

    Fix incorrect memory access after resizing the canvas
    
    KisOpenGLBufferCircularStorage::reset() should also reset
    m_d->nextBuffer to ensure we don't try to read past the
    buffers storage.

commit 1d8b8d405c08350da0dfb795b93d4cf5c4468275
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 23 13:56:51 2021 +0300

    Fix usage of qNextPowerOfTwo()
    
    The function jumps to the next power or two itself if the current
    value is power of two. There is no need to multiply it by two.

commit fd4f38eaa69e71965c40d4de1174170eb12081ce
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 23 13:48:56 2021 +0300

    Fix rendering of pixel grid on openGL >= 3.0
    
    Solid color shader doesn't use any textures, so there is no need to
    provide it with a vertex buffer for that.

commit 0b4ddd4074779b76ecc0b7a7ddf176b2cd813f40
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 20 16:08:18 2021 +0300

    Add a (hidden) option to invalidate texture buffers right after the usage
    
    When the function is enabled, the buffer is marked as invalidated
    right after Krita requested its uploading to the GPU texture. It
    should potentially increase the speed of texture uploading and reduce
    GPU memory footprint Krita uses.
    
    To enable the option, add the following line into `kritarc`:
    
    useBufferInvalidation=true
    
    You need to also pay attention to the following lines in the system
    information log:
    
    supportsBufferInvalidation: true
    useBufferInvalidation (config option): true
    
    The first line tells if the feature is supported bu the GPU, the second
    tells if the feature is enabled in Krita's config file.
    
    CC:kimageshop@kde.org

commit 04ed5cfc82aa8dc546f4b739a80c218aa0985c5e
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 20 10:40:11 2021 +0300

    Fix a problem with reallocation of the texture buffers
    
    It looks like not all openGL implementation support returning
    of the buffer size. Therefore we should store it manually.
    
    There was also a problem with iteration index in addBuffersImpl().

commit f536e8fb8e7ffe367720141e294c0eb8483d13fe
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Sun Sep 19 10:55:17 2021 +0300

    Fix vertex buffer uploading for the openGL 2.0 case

commit 0c6358ace2463502d5ea40b391b8f24399b2f306
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Fri Sep 17 17:55:45 2021 +0300

    Implement auto-adjustment of the number texture uploading buffers
    
    Krita now uses 16 buffers by default, but if it sees that it is not
    enough, then more buffers are allocated on the fly.

commit 440a3878235a7ffbb081eb43a17972e1e9e5a0f8
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Thu Sep 16 13:52:15 2021 +0300

    Implement immuitable vertex buffer for image tile rendering
    
    The buffers are now static and are prepared in only once
    in KisOpenGLImageTextures::recreateImageTextureTiles(), alongside
    the tiles themselves.
    
    It should fix most of the bended lines problems on macOS.
    
    The only thing left for this patchset is the dynamic number
    of buffers for tiles uploading in
    KisOpenGLImageTextures::initBufferStorage().

commit 48a1021a6cbe4b05d0ae584ebcbb87298c24b688
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Sun Sep 5 08:59:16 2021 +0300

    Make unsignaled warning a bit more robust

commit 92a4f7497fcd95abb3b7fb01cffe4693873604ba
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Sun Sep 5 08:36:45 2021 +0300

    Fix a stupid mistake in KisOpenGLCanvas2 that broke rendering

commit 789360ae7ed14f6d91e7e59687a6df8c10eede9d
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Aug 31 18:34:46 2021 +0300

    Add a warning when the tile buffers are exauhsted

commit 07a10c399b693326f5826217bb0c268aeafb7264
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Aug 31 17:14:45 2021 +0300

    Implement a reusable class for multibuffered rendering
    
    On OSX we have a huge problem with uploading any data on GPU. When we
    upload some data with a buffer and try to write into the same buffer
    again, the writing call is blocked until the previous data has finished
    uploading to the GPU. It makes paintGL() call to block up to 60 ms,
    which stops the main GUI thread and makes OSX to drop tablet events.

commit 3104476c49a0fce4ce5ae8eb6a488513b28194db
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Fri Aug 27 09:47:05 2021 +0300

    Fix the usage of texture buffers in KisTextureTile
    
    In the previous implementation we recreated the buffer on every upload,
    which could be rather slow. The patch fixes it by allocating the buffer
    only once (with max possible size) and reusing it every time.
    
    WARNING: This patch expects the image to be RGB8! The hardcoded
    pixel value must be fixed before the merging.

commit d60aa02cafcc0dd6d9a2881df097847d1a7388d8
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Fri Aug 27 08:42:20 2021 +0300

    Use six-buffered rendering in KisOpenGLCanvas2

commit c0aa5b0bff3c9ca110ec11e9eff6b5b09b8250ec
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Mon Sep 27 14:24:11 2021 -0700

    Fixed broken signal connection.

commit 35edfb69d7891fc70ee7fb6358dce8e4b3a82091
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Wed Sep 22 15:16:04 2021 -0700

    Storyboard exporting no longer possible when there's no content.
    
    The button shouldn't be clickable when there's no storyboard
    content to export -- it just wouldn't make a lot of sense that
    way!
    
    CCBUG:442701
    (cherry picked from commit a3676628e37fc612e5014368400b6af0f6cabf27)

commit e10cde2838d5cbbf78d5db202bc932d0dc7560a4
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Wed Sep 22 15:10:42 2021 -0700

    Fix crash on removing storyboard entry. (Take 2.)
    
    (cherry picked from commit d5d9f9f23e71955adaf836101c676b9b2432b401)

commit 1641fe316e875b413f0321735740ab329cec7019
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Wed Sep 22 14:36:45 2021 -0700

    Fix crash when trying to export storyboard without scenes.
    
    We also prevent the export window from opening at all when there's no
    storyboard content available now. Lastly, in the odd chance the window
    does open, we make sure it won't crash due to divide by zero.
    
    We will disable the export button to reflect that this isn't
    possible when there's nothing to export in a later commit.
    
    BUG:442701
    (cherry picked from commit 2a5950456bcde2b0fe55557ff8512612b3edfe3f)

commit 30840c0064be693e10cfc1999c2f148f97eeacb4
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Fri Sep 24 18:02:38 2021 +0200

    Fix first brush from ABR file not showing up
    
    Before this commit, first brush tip from the ABR file wouldn't show
    up in Resource Manager or brush tip chooser. That was because of
    the mistake in iterating over the resources in KisAbrStorage.
    This commit fixes the iteration and now all of the brush tips
    appear correctly.
    
    BUG:442474

commit ee57112adddb1e04291937d16bdcf2991d3c0a7e
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Fri Sep 24 17:27:42 2021 +0200

    Sort KisTagModel ignoring the case of the tag
    
    Before this commit, KisTagModel would sort the tags in
    alphanumerical order but not ignoring the case.
    This commit makes sure it ignores the case of the tag.

commit c73b9fb3ebcc2c7fb69b9da6702a7f012c14c0c5
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Fri Sep 24 17:09:57 2021 +0200

    Fix gamut masks icons after switching modes
    
    Before this commit, if you switched the view mode in the gamut masks
    docker from Thumbnails to Details and back to Thumbnails,
    the Thumbnails would be very stretched out.
    This commit ensures the thumbnails are shown the same way they were
    shown before the other mode was selected, which is just as icons
    in the icon view, not list view.

commit 08edf328ba221d2ab81faef61c5e93316681c6e8
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Fri Sep 24 16:53:48 2021 +0200

    Fix gradients icons on creating a bundle
    
    Before this commit, creating a bundle with gradients
    was difficult because the gradients weren't visible.
    That's because the gradient thumbnail is only 1px tall,
    while it is a few hundreds pixels long.
    This commit ensures the gradients thumbnails are scaled
    while ignoring the aspect ratio,
    which avoids the issue (the thumbnails are now correctly scaled
    vertically as well).

commit 3afd553fdea698ddf6248bde383d1be9b9b423f9
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Fri Sep 24 16:32:36 2021 +0200

    Fix wrong sorting of the tags after renaming a tag
    
    Before this commit, the following order of action:
    - assign a brush to a new tag called "Lily"
    - select tag Lily
    - rename the tag to "Zuzanna" and check where the tag is on the list,
    - rename the tag to "Anna" and check where the tag is on the list,
    would show that the tag list is not resorted after the rename.
    
    HACK:
    This commit ensures the list will be resorted because it first
    asks the model to sort by other field.
    
    NOTE: in KisTagModel in the current state (93277c99c8) there is a line
    "dataChanged(idx, idx, {Qt::EditRole})" which might seem as if
    it was the culprit of the model not recognizing that yes, it needs to
    resort again (because EditRole != DisplayRole != UserRole + Name !=
    column Name).
    However that line doesn't change anything. The only thing that I've
    found that works is resorting by other field.

commit 8218dcd6cd6b40e4da31d2f6f179c597c3c1a9be
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Mon Sep 27 17:40:23 2021 +0200

    Ensure the amount of curves passed for per channel is not too low.
    
    It seems we may have had a period where too few curves were stored
    in the config. This commit appends identity curves for the missing
    entries, avoiding crashes.
    
    BUG:428349
    CCBUG:411917

commit ab725611515257eb56b52a8dc1b200d38cda6588
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Mon Sep 27 15:32:03 2021 +0200

    Replace custom buttons with dialogbuttonbox in recorder docker.
    
    BUG:438645

commit 0c28050ad586922819c66dfe94bc9b50b5c040d0
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Sun Sep 26 16:34:46 2021 +0200

    Reuse clone layer's own convert-to-paintlayer for the general one.
    
    The clone layer has special considerations when converting to
    paintlayer, so it makes sense to reuse that function when needed.
    
    Amongst others, it'll ensure that the offset of the layer is correct.
    
    BUG:437431

commit 2b48e7dc6ea343f3783a285466e19efc3b812557
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Sun Sep 26 15:38:04 2021 +0200

    Fix resetting the crop tool cursor upon stroke cancelation.
    
    BUG:442959

commit ef9473246fbd9960c0308e3dadb0e8a7c66d7ac8
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Sun Sep 26 15:24:03 2021 +0200

    Fix reading of crop tool type from the settings.
    
    Frame and layer were impossible to read :|
    
    BUG:442827

commit 0ff34e929a106957f4d15bc97056cb96b2d1c746
Author: L. E. Segovia <amy@amyspark.me>
Date:   Tue Sep 21 20:51:19 2021 +0000

    Gmic: update to 2.9.9
    
    (cherry picked from commit 560e7c567448ffc726a3fa8492fb9bcc7fde46cb)

commit 4f114d53039a72b265c19d3e71d619a113600be9
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Thu Sep 23 19:32:27 2021 +0200

    Fix forgetting about the cell spacing on opening the document
    
    Before this commit, Krita loading a file with an isometric grid
    wouldn't read what was the cell spacing for that grid and just use
    the default value.
    This commit makes it possible for Krita to read and use that value
    and now the grids saved in Krita can be opened and look the same way
    as before saving.

commit 759bc5ea8fec5153f8f4ae305816fddfe962731d
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Tue Sep 21 23:29:27 2021 +0200

    Add StorageVersioningHelper tests
    
    Before this commit, there was no StorageVersioningHelper class
    tests. This commit adds checking for the chooseUniqueName() function.

commit 476806ba2007faaad18df7fc9fa57dd4c3be9290
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Tue Sep 21 18:43:20 2021 +0200

    Fix Show Painting Assistants to update correctly
    
    Before this commit, if you opened two files with assistants,
    and in one turned the View -> Show Painting Assistants off,
    and then switch to the other file and to that same file again,
    the View -> Show Painting Assistant would be "on" even though
    the painting assistants wouldn't be drawn on the canvas
    (only preview would be visible). And then switching it off
    would actually turn the drawing of the assistants on.
    
    Another way to reproduce this issue would be to open a new document,
    create a new assistant, turn off Show Painting Assistant,
    then create a new assistant. Show Painting Assistant now looks "on"
    but the drawing of the assistants is still actually off (which is
    correct and it's just the checkbox that should stay "off").
    
    This commit fixes this behaviour and now the checkbox in the View menu
    reflects correctly the current state of drawing the assistant.
    
    BUG:399419
    BUG:417792

commit 3f9634d312c8ec8c855e3a601b3b0517de618396
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Tue Sep 21 01:36:09 2021 +0200

    Fix assistants preview vs drawn assistant
    
    Before this commit, some (especially new) assistants were confused
    what is the preview (which can be disabled with View -> Show
    Assistants Preview) and what is the assistant itself
    (which can be disabled with View -> Show Painting Assistants).
    This commit fixes it for three assistants:
    - Parallel Ruler
    - Vanishing Point
    - Two Point Assistant
    
    Previews: all moving parts (dependant on the mouse position)
    Assistants: all static parts (independant on the mouse position)
    
    Note that Two Point and Vanishing Point assistants don't use
    much of drawCache and most of the assistant is drawn in the
    drawAssistant() function. This most probably means lower
    performance and it should probably be fixed by moving
    drawing the static parts of the assistants into the drawCache()
    function.
    
    CCBUG:433097
    CCBUG:442102

commit a1f7131e3b16f8998df74eeeefd65da93602b0ef
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Tue Sep 21 00:21:38 2021 +0200

    Fix preview of local assistants
    
    This commit fixes artifacts when the vanishing point is outside
    of the limited area.
    
    BUG:442619

commit f87df110f47b5429e39cd423d3edcd67a5b1c408
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Thu Sep 16 20:00:20 2021 +0200

    Add checking if file exists before trying to open it
    
    Before this commit, in RecentImageImageProvider and in
    KisAutoSaveRecoveryDialog Krita would try to open
    a file from a zip archive without checking if it exists.
    That caused warnings on the console.
    This commit ensures that Krita first checks if the file
    exists which removes the unnecessary warnings on startup.

commit 1e8d8aaddce55d68ce71bb070ebb50f774313b45
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Thu Sep 16 19:34:37 2021 +0200

    Avoid scaling null images
    
    If the image Qt tries to scale is null, Qt will print out
    a warning message to console. There is no need for those warning
    messages. This commit adds checking if the image is null before
    attempting to scale it.

commit af510b47afc7368a2d2a34cc8d2730070f09f27e
Author: Black Cat <iblackcatw@gmail.com>
Date:   Fri Sep 24 08:26:02 2021 +0400

    Fix applying font styles to text in vector text tool
    
    BUG:392343
    
    * Apply font style as combination of font weight and italization
    * Show correct font style and font properties (bold, italic, etc) on
      cursor change or font style update
    * Fix text changing format and loosing whitespaces while switching
      from Rich Text to Svg Source tab
    
    (cherry picked from commit 371894feca52dec75ac2c33aebccbfe7ba75b6a7)

commit 13ad0b1a6dc2ef2f180a69686bf594b39f16628f
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 21 12:07:33 2021 +0200

    Transform tool: add tool preview option to tool options widget
    
    This adds a combobox where the user can select between the three
    transform tool preview options, in-stack, in-stack with lod, fast
    (on top of everything else).
    
    This adds strings, but we need this option in place to reduce
    the number of bugs going like "Oh, gosh, the transform tool is
    _soooo_ slow" once we release 5.0
    
    CCMAIL:kimageshop@kde.org
    (cherry picked from commit a8ebb61160d637b52a9e6a94cdd6efd9374b10ff)

commit 709a9b2d760d78f3f743c5798d97f53b6c299633
Author: Reinold Rojas <rojasreinold@gmail.com>
Date:   Fri Sep 24 01:55:13 2021 -0400

    Set default fullscreen mode to off
    
    Before this commit the krita config set fullscreen mode true
    by default despite Krita not actually starting in fullscreen.
    That caused some canvas-only settings to behave incorrectly.
    This commit aligns the fullscreen mode and startup
    behavior (both off).
    
    BUG:437932
    (cherry picked from commit bf0cf113576696be711166d7074af1e5472b28d4)

commit 440e412d478a6291f199791dee883c28532a2e75
Author: Reinold Rojas <rojasreinold@gmail.com>
Date:   Thu Sep 23 02:57:58 2021 -0400

    Fix Color Sample Tool preview artifacts
    
    Fix Color Sample tool preview leaving portions of
    the preview rect on the canvas.
    
    (cherry picked from commit ba95142c403ab339a263ed0322cf7d50c29bb861)

commit eacaa74037cd7357b06cc0e17b06eb301b02319c
Author: Reinold Rojas <rojasreinold@gmail.com>
Date:   Thu Aug 26 02:35:39 2021 -0400

    Make preview rect disappear when moving off canvas
    
    Fixed the preview rectangle lingering on the canvas when
    the mouse was moving off screen.
    
    BUG:396490
    (cherry picked from commit c8b5bfc3c4d65751547a46bb5b8281ad578c5ab6)

commit 7d5241248d207f540bd51b63ca3ad63a845384d3
Author: Reinold Rojas <rojasreinold@gmail.com>
Date:   Tue Aug 24 21:56:25 2021 -0400

    Enable color sample preview for Color Sample Tool
    
    Add a small square box that shows the current color
    and the sampled color when using the Color Sample Tool.
    This is similiar functionality to using the
    color sample shortcut
    
    BUG:396490
    (cherry picked from commit beb3b2d5e96b443ec5f28c300397176de29ae841)

commit 3e4db55f84cd1a8b57218c2e01e903ed5aa99d5f
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 23 11:39:26 2021 +0200

    Use gmic-2.9.9.1-patched.tar.gz in krita/5.0.

commit dfbe7cee62d077112ae79ea2c8cd06e89d2107a0
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Wed Sep 22 15:30:45 2021 +0000

    Android: Prevent artifacts when unsaved auto-saves exist
    
    This is caused because we need to flush event for window to be exposed
    and cleared properly.
    
    (cherry picked from commit 4115ed7b790c41c3fe9446c45a97356fc83401ce)

commit b9e2e46e1a6aca7fcf0332991d5ac03e8cbce1df
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Tue Sep 21 14:07:30 2021 +0000

    Android: Remove an old hack to refresh mainWindow
    
    This caused problem 2 mentioned in
    https://krita-artists.org/t/minor-bugs-i-found-in-krita-5-beta-1-on-android/29233
    
    The bug is no longer reproducible on Krita 5. So, we can take this away.
    
    (cherry picked from commit 27bd06051def8d30651509e1d287d46bc9eaee6f)

commit 2d3c9ebdf3cc556d1023cfc7bbde82bece659e90
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Tue Sep 21 10:16:31 2021 +0000

    Android: Add support for changing cursor icon using QCursor
    
    BUG:431859
    (cherry picked from commit 2fbcbaaed90ebf5987db926f75edd42ea1175d34)

commit f4c370fafd0323e57b887db77ec837dd2295f2f5
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 9 13:29:20 2021 +0000

    Android: Disable Native QMenuBar
    
    (cherry picked from commit f084613c90e03d32f1b60eeb7592aeffd0212ee7)

commit 41f44309cddde7484d80186217f710d9486ba235
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Mon Sep 13 11:59:34 2021 +0000

    Android: Set NativeFileDialog to checked when Restore Defaults is pressed
    
    (cherry picked from commit dfcf747f6a3056302cbfb70a3ff7351120486e7f)

commit a1d739080b9e31e55b2f5e2c9816a4bfcf9a38e1
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 9 13:17:05 2021 +0000

    Remove unused KisAndroidFileManager
    
    (cherry picked from commit 9f370dbf15b67f6e71d0552e9713876716478b5c)

commit f611e8cc83b71211619c76b417c6d59393925d42
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 9 13:11:17 2021 +0000

    Add a .git-blame-ignore-revs file to ignore commits from git-blame
    
    (cherry picked from commit 43d14ebd9522106415eb8509fb7c87bb454ebada)

commit a8781168ba9ce1b73f040c64f740b4ee8b1634a8
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 9 13:28:29 2021 +0000

    Fix indentation of java files
    
    (cherry picked from commit 38e0042809f40005b877bcfe826564615ede812c)

commit 9f76c05a8809cae72f9f3e520b44d3290e5d756d
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Sep 9 12:42:50 2021 +0000

    Add a .mailmap entry
    
    bugzilla doesn't close ticket automatically otherwise.
    
    (cherry picked from commit b7d42647cfda9f70589175e2efd01eb86d155c3d)

commit 7fec9504b9b0ab04ca31a44b089c555e1df227ed
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Sep 22 14:13:07 2021 +0200

    Test all libresources models with QAbstractItemModelTester
    
    This showed that our rowCount and columnCount implementations were
    too naive.
    
    (cherry picked from commit ef7f96bd92ef389aace38436406a477d8cc9c57a)

commit cc3f4e4f89439a873de77e1b83b6a9af35c16d98
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Tue Sep 21 16:26:31 2021 +0800

    Backport Qt patches to fix paint artifacts on fractional scaling
    
    Backported three changes:
    
    - https://codereview.qt-project.org/c/qt/qtbase/+/249023
    - https://codereview.qt-project.org/c/qt/qtbase/+/278047
    - https://codereview.qt-project.org/c/qt/qtbase/+/308500
    
    CCBUG: 441649
    
    
    (cherry picked from commit a2b87cf71b7d0a1079842d60c0431acce50c2fb0)

commit 3434f57091eea6fae1f766b0cc2041f27f8554f7
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Sep 22 10:23:20 2021 +0200

    Add resource types that have been added since creating the cache db
    
    BUG:442783
    (cherry picked from commit 6cfc02eb6fc7cb7454fa2e19e4ca8a0b3673cb92)

commit 22821a68d66798d3ed49209cca5bd47716631f97
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 21 11:11:05 2021 +0200

    Try to fix KisPatternTest when running in a docker
    
    (cherry picked from commit a4ab2e8b846f2b6e3a88e632e27f6b57600e1a34)

commit fe4204f9b3c35631f9ae15278d96254e0d7b795c
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Sep 21 15:11:25 2021 -0700

    Popup Palette: Fixed a regression with right clicks.
    
    Some recent changes to the popup palette code caused a magic number
    value used by the timer within the right click eater event filter to no
    longer work correctly. This patch should fix that.
    
    BUG:441899
    
    (cherry picked from commit b117b85f378f09027385f209a9333a43d3538dcc)

commit 0986afac2fe3351e4d70fdee946952efaf7caa56
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Tue Sep 21 17:06:50 2021 +0200

    Fix task set docker text appearance.
    
    1. Text color should be set with pen, not brush.
    2. Also polishes the height a bit.
    
    BUG:442185

commit c2a66e809c73d3f92df17f6b24a8b6486af64e81
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Tue Sep 21 16:40:17 2021 +0200

    Save color labels and pin to timeline for masks as well.
    
    We shouldn't forget to check if other layers-only features can
    be applied to masks too, but these were the only ones I could find.
    
    BUG:438124

commit 55aba9a7a818c7f2df843979bee8c0699887c118
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Tue Sep 21 16:11:18 2021 +0200

    Also fix saving gbr/gih brushes.
    
    Seems like an overzealous change that caused this one...
    
    BUG:442316

commit 019eb11f3242b1b61be9037812584037f20c4be7
Author: L. E. Segovia <amy@amyspark.me>
Date:   Tue Sep 21 12:49:41 2021 +0000

    LittleCMS: update F32 patch again
    
    (cherry picked from commit 0aa4973bf6f5bbad63f79a9166b66a747220b067)

commit 9c2067c56416a8bb2141f27cdc0164939a3c9447
Author: L. E. Segovia <amy@amyspark.me>
Date:   Mon Sep 20 17:24:47 2021 +0000

    LittleCMS: hotfix crash in kis_cs_conversion_test
    
    (cherry picked from commit 355c72f7c420666c90ffa2e3eab691d13608f99a)

commit 5548012a25362e3786cec812a312f5d57b523dd7
Author: L. E. Segovia <amy@amyspark.me>
Date:   Sun Sep 19 20:45:33 2021 +0000

    LittleCMS: fix linearity check with upstream update
    
    CCBUG: 442004
    CCBUG: 437429
    CCBUG: 441366
    (cherry picked from commit cae8af720c388bda9007cf95ab760ee697e5cd9c)

commit 14c2d13d837140b06261ae1a2741a9c16727f3ef
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 21 09:44:38 2021 +0200

    debug--
    
    (cherry picked from commit 5f8eb593288f9791619bb3db5e1c6126e0a31d0a)

commit 48e4171d92312279f715827a8a5a38d836e54c03
Author: Tom Tom Tom <tomtomtomreportingin@gmail.com>
Date:   Mon Sep 20 03:41:47 2021 -0400

    (5.0) Remove duplicate calligraphy anglebox sig/slot connection

commit ce59592926c6bde7445421938993038216641907
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Thu Sep 16 14:56:49 2021 -0700

    Animation Clones: Fix crop not working properly on cloned frames.
    
    Clone frames were not acommodated for in crop operations,
    causing "double" cropping to occur on reused frames.
    
    BUG:441369
    (cherry picked from commit 62aa70833819d3756855dd99f4015548e2e3b7dc)

commit 689ff53b023342b50570a924951e9833137bdc52
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Wed Sep 15 17:00:19 2021 -0700

    Fix frame cache invalidation with live preview on Windows.
    
    I couldn't determine why this behavior is different between windows and
    linux, but I was able to solve the issue. Basically, when we refresh
    graph async we want to block frame invalidation temporarily since we
    will do so later in the method manually if it's necessary.
    
    I also noticed we have a few uses of `friend class` here or there that
    need to eventually be cleaned up. I've made a note of it, and I will
    handle it once Krita 5 is officially out.
    
    BUG:441587
    (cherry picked from commit b9eed7ba0ed597aedb488ddc37aaa31a2a659d0e)

commit 11308bbbfecd70e3887a532117666cd50c76c2a8
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Sep 14 19:42:47 2021 -0700

    Added i18n wrappers to a couple more strings.
    
    (cherry picked from commit e72e0f7221a8858ba1abdc3ab792565437ad4b7b)

commit 84d03dd1ae24deffe292b7c97bd286aa5eccb5c6
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Sep 14 19:29:33 2021 -0700

    Added i18n wrappers to a couple of strings.
    
    (cherry picked from commit 133426ad9255a4a03d3edaa4a7deaae4279bd0f9)

commit aff1677af58adbad951990613313961c72bb22af
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Wed Sep 1 19:16:36 2021 -0700

    Storyboard: Fix crash when adding storyboards on certain layer
    configurations.
    
    (cherry picked from commit 2b448ded0eeb1bdf5c22d8dcd9666f596e482a4a)

commit 23bfae6716a026f5c693940b5b772ccb32472c79
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Wed Sep 1 19:06:01 2021 -0700

    Storyboards: Fix crash on undo of first (and only) storyboard entry.
    
    There were some parts of the undo-redo operations that also looked
    incorrect too, so in general it should be more stable.
    
    (cherry picked from commit 1d843a05455187ca4133958f73a94b42dc02e6e7)

commit 0d1151d9b694a0fce550ed50281c465d9fcdb604
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Tue Sep 14 14:46:54 2021 -0700

    Changed compression value of save throttle for timeline zoom.
    
    Original intent was to prevent the config saving from slowing down
    zoom performance. While it worked, 5000MS (5 seconds) of required
    inactivity made zoom saving unpredictable. A low value (now 100ms)
    will prevent the configuration writing process from slowing down
    zoom operation while preserving user settings even after a reboot
    within 5 seconds of last zoom operation.
    
    BUG:437025
    (cherry picked from commit 953c522af4506d6ddd7c65f4e2be6c02eb2d5374)

commit 84bb245b0a3d8be967c0f8b30291b7dc8f74c053
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Mon Sep 13 16:15:27 2021 -0700

    AnimTransform: Fix move tool not respecting, modifying, or outright breaking animated masks.
    
    Should work more or less how the user expects. There could be more to streamline the process
    to make it less error prone to interface with animation, and `setParameters` sometimes causing
    animations to "break" will need to be investigated at some point. For now, it works.
    
    BUG:441974
    (cherry picked from commit 4b933a691edb7c78698f3c294020951abddc971d)

commit 4c6f231d7d43a232d014bce86460d3e9db75b2ca
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Mon Sep 13 12:42:20 2021 -0700

    Attempt to fix crash on MacOS with transform masks and layer re-ordering.
    
    CCBUG:442368
    (cherry picked from commit ab1347fd1b40ccdb62a2f3dee448b22de1a53557)

commit 002d5af04581c7482137c2f8f7d5856af98517f5
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Thu Sep 9 23:58:06 2021 -0700

    Fix incorrect usage of QColorConstants.
    
    I need to try to remember that this breaks CI. :)
    
    (cherry picked from commit 85f82fd9a433337f2915c15e4dcdaff74eef1433)

commit 962b536dea35cd6eb8e5d8ad4e6450aaa109bdb7
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Thu Sep 9 16:18:26 2021 -0700

    StoryboardExport: Let's render out line breaks...
    
    (cherry picked from commit d5dedc0973ba1d4e6924e8ae37bc1284565d9786)

commit 906d049a1a29b461abb52fb5b389e2765e63d419
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Thu Sep 9 16:10:05 2021 -0700

    StoryboardExport: Draw line over comments.
    
    No longer interrupts table flow.
    
    (cherry picked from commit f1cb9da67569cccfa6443bc02721e29b4342d381)

commit 2b74ef3975240cf2b5f708e485778f90dd9e32a7
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Thu Sep 9 16:05:52 2021 -0700

    Storyboard Export: Draw line over thumbnail instead of under.
    
    (cherry picked from commit 95c57591994c1750b34c549f46bc7ecfc9c12179)

commit e9d0f503ab58245f5375d271a560a7b40350a451
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Thu Sep 9 15:58:00 2021 -0700

    Further refinement to comment areas of storyboard dockers.
    
    Restrict total number of characters available for users to type.
    Modify estimated text to acommodate for multiple comment tracks.
    
    (cherry picked from commit 4eea2b3cc752d4209215b05ba47da835e1298c1a)

commit e10163fbe2ada9495a3c99ee3172801814f4f1e7
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Wed Sep 8 20:47:59 2021 -0700

    StoryboardDocker: Minimum size of docker now accommodates for multiple comment channels.
    
    (cherry picked from commit 566f96b09676a27b7a21859bdf2c032c2b4a5fda)

commit 39395fff4d53d5fd71f607fdf95e2b8a780a6174
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Wed Sep 8 15:30:34 2021 -0700

    Storyboard Export: Estimate maximum usable font size.
    
    Based on page size, orientation and layout.
    
    (cherry picked from commit db6d363f712e1fc5659a1967dd15e65514453d47)

commit 6581ca4b53b3c5ecbe955df44180008a66bc361a
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Wed Sep 8 14:35:19 2021 -0700

    Fix background color rendering issues for storyboard docker.
    
    (cherry picked from commit 3160e73e517d68a54be568697a1414fce81baefe)

commit dcb849cc4c09fa9b73697ce5c01f46b9c0c3041e
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Tue Sep 7 19:21:00 2021 -0700

    Working new export GUI for storyboard docker.
    
    The old one was messy and users had a hard time understanding
    the settings. This one should be cleaner and convey what it needs
    to clearer without explanation.
    
    Settings have been restricted to more usable ranges so that there
    is less room for user error.
    
    (cherry picked from commit ebb04024c5a940f041d7f8ec5fecf3d0ba99a265)

commit 1200129ef270b9ec72f30a4636f26bb881cdfade
Author: Halla Rempt <halla@valdyas.org>
Date:   Mon Sep 20 15:42:51 2021 +0200

    Return an empty variant for the StatusTip
    
    If this isn't empty, and the resource chooser is in a docker, then
    the statusbar will be updated by QHeaderView, which is hidden, but
    still does its thing...
    
    BUG:441751
    (cherry picked from commit 6420eb843bb050c04da3c706bb342483516ca133)

commit 568bca78cc1a58c97f0eb4709761820f0f5ec515
Author: Halla Rempt <halla@valdyas.org>
Date:   Mon Sep 20 13:10:09 2021 +0200

    Add another check for the scheme config file
    
    (cherry picked from commit cff6f1ff511c131067cb1bc33b690b45e1945a4f)

commit fcf2432a191f4acce8d639095bdb2adccd96fadb
Author: Halla Rempt <halla@valdyas.org>
Date:   Mon Sep 20 13:06:20 2021 +0200

    Check whether the shortcuts file exists before loading it
    
    This solves the empty menu entries problem.
    
    CCMAIL:kimageshop@kde.org
    BUG:428453
    (cherry picked from commit ad52cf5daaaf7605f70eb483f4fe9be295d239bf)

commit 2089ec6c2093507b846083bda84cf8fe785d850f
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Sun Sep 19 18:55:13 2021 +0200

    Add reset option to autobrush widget.
    
    We still are missing this for text and predefined, but it's
    most obvious with the autobrush.
    
    BUG:437006

commit 25f835b18f8ee23321cab1002c07ea24e999d9f4
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Sun Sep 19 18:19:02 2021 +0200

    Disable "fan corners" when the rotation option is disbaled.
    
    Turns out fan corners was applied separately, so it needs to be double
    checked whether it's active.
    
    BUG:433941

commit eb127330c81d739f636c413c8b63b51d239706c6
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Sun Sep 19 16:10:07 2021 +0200

    Interpret gbr/gih brush with application=imagestamp to load with color.
    
    Otherwise, the brush image returns a grayscale image, which is useful for
    using the brush in the engines, but not for loading it as a document.
    
    BUG:442316

commit 652187937f3c24aa1ce544766f06ff0fddf8c86f
Author: Halla Rempt <halla@valdyas.org>
Date:   Fri Sep 17 12:00:42 2021 +0200

    Add a default shortcut for creating a vector layer
    
    Shift-Ins will create a vector layer.
    
    BUG:442585
    CCMAIL:kimageshop@kde.org
    (cherry picked from commit cecbbbfd5ddc857eeff2aedb1629bcf5400cb8e8)

commit bce9b2d81d687e0fcec58fd393a89cae291e2f31
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Thu Sep 16 21:10:16 2021 +0800

    Fix duplicated connections for Storyboard Docker
    
    (cherry picked from commit 2292994ba402a5f37cda9452b6230698d44ccbb5)

commit 632bc658ac6ef5f174c12a9f6cde8b7ed5672b3a
Author: Mathias Wein <lynx.mw+kde@gmail.com>
Date:   Thu Sep 16 05:03:19 2021 +0200

    Fix connections piling up in channels docker
    
    Finally investigated the cause of mysterious cursor freezes whenever krita
    becomes idle; it was the channels docker creating additional connections
    on each canvas change.
    
    While at it, move the connection of overview docker too, the endpoints
    are static for the lifetime of the docker.
    
    (cherry picked from commit e0396847cbf48c29560f6fd7f100a4b249a50c69)

commit 5d81078e29d71b5cce6f104ecbc84385eecb4036
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Wed Sep 15 16:39:25 2021 +0200

    Use grayscale code path for alpha in image separation.
    
    The color code sets alpha to opaque, and the result of the
    grayscale code seems to be what is expected in this case.
    
    BUG:434288

commit 082e2deee1db3fe368205e0384bba9059189f795
Author: L. E. Segovia <amy@amyspark.me>
Date:   Tue Sep 7 16:44:44 2021 +0000

    Make SeExpr script thumbnails optional
    
    BUG: 442096
    
    Co-authored-by: Halla Rempt <halla@valdyas.org>
    (cherry picked from commit 0636d6f1f1744a05b67deca647b56bb5bd790a4e)

commit 565c618bb0e0b18716e5b4637e5186d703c41f92
Author: L. E. Segovia <amy@amyspark.me>
Date:   Wed Sep 8 18:27:17 2021 +0000

    LittleCMS: fix linearity check for 32-bit and floating point RGB
    
    BUG: 442004
    BUG: 437429
    BUG: 439947
    
    (cherry picked from commit 411297e62feb2d04c38182e2e5f3cab8361db46c)

commit 2c171fefa67a123a0c43f23b06d6363d63489ddf
Author: L. E. Segovia <amy@amyspark.me>
Date:   Wed Sep 8 17:41:27 2021 +0000

    Update LittleCMS to latest master
    
    BUG: 441366
    (cherry picked from commit ec72afa34b7e0060ff3c894d9e195dd82dc531a6)

commit e1b25ad92a2041fd0f070a90706c5c6da04e706a
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:32:37 2021 +0000

    Disambiguated Intensity in HSI model
    
    (cherry picked from commit 694248d13b7ccf09b05ba981a6c6d3b64722bf7b)

commit 6c5390e3e74c5b75b78502f3c388977cf4bb5671
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:36:41 2021 +0000

    Disambiguated Brightness in Halftone Widget
    
    (cherry picked from commit d684ab9cd17fb3760276375e70d1d04d5f67d96e)

commit 4a1fda241eafcca24abf6340d1079c60a49c3b3e
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:40:02 2021 +0000

    Disambiguated Spline in the interpolation method list
    
    (cherry picked from commit b5f9af46f2b58c37b8219a3c565c56759980c425)

commit 415c442ebc4110ca231c327a933a938ed8e5d166
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:42:11 2021 +0000

    Disambiguated Spline in drawing assistants
    
    (cherry picked from commit ea775797f77688fa9368da473d7ecadbcce9c8dc)

commit f45b84048237f577499b49ec4c26224b31bd5937
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:45:13 2021 +0000

    Disambiguated Filter: label
    
    (cherry picked from commit 68ec8a3295b7fd29a326cfbc57f097abfa9b84a6)

commit f61a52c479e1d2c5ebab7f1348f5e8b290dbdf68
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:46:24 2021 +0000

    Disambiguated Filter: label
    
    (cherry picked from commit eb096ce3fc27452c70674adaf8844205e568ff79)

commit 590816c2d4244968991b03287169c23265322800
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:47:38 2021 +0000

    Disambiguated Filter: label
    
    (cherry picked from commit 09b3f614f2bdbbcca027f1ade5a64553eabf2d0d)

commit 80b877ff102dfd16ad44413615169d58e9daa24e
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:48:58 2021 +0000

    Disambiguated Filter: label
    
    (cherry picked from commit 9caa1b0ab1fc444489c338d61334779718847abb)

commit 44fb6327db3c66608bcac5589667c04e7002c6d8
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 15:55:49 2021 +0000

    Disambiguated Filter: label, Fixed Resolution: alignment
    
    (cherry picked from commit d641143c0a4e4340a6306c19d3c3924848d8d815)

commit abdfbccfa85d7b6e0f33650b5ed954329911beed
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:03:00 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit 25888b2770636af3bebcac898b12a92e5bee9a47)

commit 7dd3f42c31691a7c6b80e7a1f925307f0b5f2b8d
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:07:17 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit 9074f396db7c8a99d06a15f9b1ee35657beb50e6)

commit 9e0b34bfa9707868895de1d4c8f5c2bee05abb06
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:10:55 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit 0cf7eefe9060a849c2023c85f31d798e8b3fff6f)

commit 1e2deeac22daa0d87780f66c214f24df2be5f3de
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:11:39 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit 7dc53c3b5aa7ff8987c6db1b8b19ea4d3024d492)

commit dc17df5d7ee4329bc20a8a1070418bf55b07b975
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:24:37 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit 8f45e8fa0c3b68d0c18e8438792e1f18eb8eb304)

commit 3abef39fa0a7a709e9d82fc3b90e1948a4efdfde
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:26:40 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit 118f0a7dedf3b25a51d186b35a795cc53fc05e15)

commit 463a445563e5ae536bff2f5307f95a309c7f067b
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:29:23 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit 0b7941e13ea211e41627ed68cbedeb9c62bac110)

commit 936a4b1946cbbe8510785db760211af118c0f058
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:31:12 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit d8a3f772215977dbd7f24e360faa825c7540dd61)

commit 52c9a70202f73184832d3aa6be2fc298780aca63
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:32:04 2021 +0000

    Disambiguated Filter label
    
    (cherry picked from commit 261d0f93b2f3c0ded7c84b94a99ea9b3f7df4ecf)

commit 5bb5cedcb9ab55a12c9377da049bf6a63ecc1e2e
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:33:57 2021 +0000

    Disambiguated Input FPS label
    
    (cherry picked from commit a8abd837d0943ef66573ed0be73dd262ca4fc903)

commit b3c6dab284533b1868f96188946deca17cd280ab
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:55:16 2021 +0000

    Disambiguated Lock and Fan Corners
    
    (cherry picked from commit c7bd6f59b7db8ed9a023720a85604699fd527870)

commit 759d34342c2aef3beecf2b44aa527d06d3367d1d
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 16:57:27 2021 +0000

    Disambiguated Direction label
    
    (cherry picked from commit 3efc23efeaaea501abe5eb16a360c2b7c3232db5)

commit 2c2efe48f9e2abee751df6123aa93e28680fc42b
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 17:02:51 2021 +0000

    Disambiguated Direction, Tilt, Rotation
    
    (cherry picked from commit e266d4c6c3929c96a550be06367163a4e0feb950)

commit 98990d79a855bc6d5f6f01af20282bbb77908af1
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 17:05:38 2021 +0000

    Disambiguated Brush mode
    
    (cherry picked from commit b597d32c308afefe1c4f6ec48b02566d7136c999)

commit 0c3d0306539249634b2e800090d9926987bb42be
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 17:08:30 2021 +0000

    Disambiguated Source and Mix label
    
    (cherry picked from commit a887bbad0ff1fc67623f7a3f02ef1dc8c218d40f)

commit ee9dc5b6c870daaab7be60c18878104afb81c063
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 17:12:29 2021 +0000

    Disambiguated Cutoff and added a missing colon
    
    (cherry picked from commit 37c9ef64485eb623747b7d35eed14b7d781cc361)

commit 80c6171b79cd7074a349e90030b42a3bd46a023b
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 17:21:14 2021 +0000

    Disambiguated Grow, Shrink, Color Deformation
    
    (cherry picked from commit c085ba6def8042937dd2cbd748f5019f8458fe42)

commit 850a20e4a5226982216e39fe098dd4be75e7af98
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 17:25:16 2021 +0000

    Disambiguated Grow, Shrink, Color deformation
    
    (cherry picked from commit e47b345d753740969d2b8f5d3bd30457d63fd589)

commit ce39efaa6f6ce7c2aec8a5ac2a1c375b9a80def1
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 17:26:35 2021 +0000

    Disambiguated Grow label
    
    (cherry picked from commit bae7244f6a4663875a57d3dee4156aaa11615209)

commit 7aedb17a3f2041be755bb1aa4ed800fe19c286e6
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 12 17:27:40 2021 +0000

    Disambiguated Grow label
    
    (cherry picked from commit 755b6a6ec206d768ec565a2b1aa4c45ab5420cec)

commit 1393c652a377526fdec6c4c87a21cb35753a556b
Author: Ivan Yossi <ghevan@gmail.com>
Date:   Mon Sep 13 01:26:17 2021 -0500

    Do not try to open fileLayer if path does not exist
    
    Upon loading file location of fileLayers can be skipped, but
    there is no state in the fileLayer to signal this. Pressing
    folder icon assumes the file exists causing a crash.
    
    We only prevent trying to open the file but we give no feedback
    to the user.
    
    (cherry picked from commit e41691fac07ba658d6ec082e61bd4db1315cd626)

commit 4bc86c25ab7c4ed35884059e9e2cdb6513ef5c20
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 13 14:13:53 2021 +0300

    Update more CMake policies to "NEW"
    
    Of these policies, the most dangerous is CMP0054, which can affect
    how 'if' works, but I hope we don't use 'if' in such a weird way :)
    
    (cherry picked from commit 1796e5486f3f503a28438acf6a83988ba407c45c)

commit 19942dee8750ece975c2d742333a8926e660f69d
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 13 14:02:13 2021 +0300

    Fix CMP0026 CMake policy
    
    Instead of reading 'LOCATION' property from a target we should use
    generator expressions instead. It is needed because location is not
    always avaialable at configuration time.
    
    (cherry picked from commit 8e834e02edc8d5aa08cdb38d57e4ffa58e98450f)

commit 84604d0481a71f94018c9d56d96aa53aacc33443
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 13 14:00:43 2021 +0300

    Fix CMP0022 CMake policy
    
    We don't seem to use the old behavior anywhere anymore
    
    (cherry picked from commit 22d1bdc94f5f0baf82eb7a0c1d9ae7649940e174)

commit 35c73a335443fdad10e98b3980d661cddc571816
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Mon Sep 13 12:04:45 2021 +0300

    Remove CMP0002 CMake policy warning
    
    (cherry picked from commit e13b3575688bed630d6f40f7a084d68eda481154)

commit 564424bce2645017d1f515078999e7e1d0d23486
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Sep 13 02:09:40 2021 +0200

    Fix kis_algebra_2d_test
    
    Those lines can't intersect if they are not extended. This commit
    changes the expectation about intersection to false.
    
    (cherry picked from commit f7f827d0ba4d2b09ee663c92b5a051305849e883)

commit bbe0467712a8243aab75aeb0296461887ea9e326
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Sep 13 04:47:18 2021 +0200

    Update the preview of a gradient
    
    Before this commit, the preview (thumbnail) of a gradient was
    often outdated after an edit. This commit ensures that the
    preview is getting updated.
    
    (cherry picked from commit 56835a120960dc16791e068e6dc2adf3020b6ee5)

commit 1be2e3680daa5e0a48890b1fbc34f57f77866ead
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Fri Sep 10 18:37:06 2021 +0800

    Add i18n context for Brush Presets docker
    
    (cherry picked from commit 71b9db1cf93fd67e9519c95ec2122fb78da6d502)

commit 7c1e589fff5eee8dde1d1359647379ea18a5c4fa
Author: Mathias Wein <lynx.mw+kde@gmail.com>
Date:   Tue Sep 14 02:55:02 2021 +0200

    Don't filter resources with empty filename string
    
    This fixes brush preset history and last used preset loading
    on launch (again).
    
    (cherry picked from commit 272e8a06b36e5f711cb36ddc3f36f92d455ec2c1)

commit 8d583f496c0a031a2c2ccee27eb4506a71087147
Author: L. E. Segovia <amy@amyspark.me>
Date:   Sat Sep 11 14:51:25 2021 +0000

    x265: recover compatibility with aarch64
    
    (cherry picked from commit bb87f9e22dec5a73c86901e3c0a16c43f8f66ed8)

commit e4159dc3e5edb68a8bdd1ed45b13f470517df4f1
Author: L. E. Segovia <amy@amyspark.me>
Date:   Thu Sep 9 18:56:12 2021 +0000

    OCIO: correct fallback if v3 and ES aren't available
    
    cc @rempt
    
    (cherry picked from commit cc257c22c33b8771316862ccea869f4b6b8df913)

commit 7fe8cd59ef756a93be672099868948eecf6e4fe8
Author: L. E. Segovia <amy@amyspark.me>
Date:   Thu Sep 9 17:37:52 2021 +0000

    OpenColorIO: support only OpenGL ES present
    
    BUG: 421136
    (cherry picked from commit eb5fe152b721efaf624f99e8f506a94dc7d9fb93)

commit d4707c072a9e60eabc4c5dcf757ed2d2e4b6d666
Author: L. E. Segovia <amy@amyspark.me>
Date:   Thu Sep 9 17:35:43 2021 +0000

    KisMirrorAxis: allow multisampling in OpenGL ES
    
    (cherry picked from commit 3e6a43821eca197a23daa22e92f8d869ee9b4e55)

commit 61ec45b776e39dd4fcc233a0636b0a1c346ba00f
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Wed Sep 8 19:56:59 2021 +0800

    Fix ARM builds using Qt with desktop OpenGL support
    
    Qt sets QT_OPENGL_ES_2 only if configured with OpenGL ES, so we can use
    it to substitute our HAS_ONLY_OPENGL_ES define.
    
    Windows builds sets QT_OPENGL_ES_2_ANGLE and QT_OPENGL_DYNAMIC instead,
    so it should be safe.
    
    CCBUG: 421136
    (cherry picked from commit 82f9ae948f910f22556d5095eaf37ffb5f21438d)

commit 057cd3474cb0542c610f2b4c9aba1e7ced9c4363
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 9 15:37:24 2021 +0200

    Don't disable the paintop box sliders
    
    It's fine if people can play with it even if the current tool doesn't
    use it.
    
    BUG:412060
    (cherry picked from commit 7fa18e1656cbbf7fa9812c3a08857fb477efbd19)

commit d4e860d76952b048608e4ae4b6a90589d7fb2f4e
Author: Halla Rempt <halla@valdyas.org>
Date:   Sat Sep 11 09:41:07 2021 +0200

    Add i18n to label
    
    BUG:442288
    (cherry picked from commit f0322995726388c3bae9ff528bddd18e3de15264)

commit aafbd2e70e505e40404ac35f56b99e72d263ba14
Author: Halla Rempt <halla@valdyas.org>
Date:   Sat Sep 11 10:39:04 2021 +0200

    Make the number of logs kept a bit bigger
    
    (cherry picked from commit 57f14de1f4b8c92a9fc53c00a9b27216d76001b9)

commit 9b50ca0bb2f36932f070b9cae51591dbf08f893d
Author: Halla Rempt <halla@valdyas.org>
Date:   Sat Sep 11 10:39:37 2021 +0200

    Disable all edit triggers for the bundle list
    
    (cherry picked from commit 4d1a20f7b1d737856f6733402f75296d566d9c0d)

commit 4f448398256122eb50a7ef8e622de180c7734856
Author: Halla Rempt <halla@valdyas.org>
Date:   Sat Sep 11 10:43:05 2021 +0200

    Storyboard; fix build (missing include)
    
    (cherry picked from commit dce3f68762a4ce762769c25722ebba65207a2f91)

commit 7f1fe37732fdcd5e6cfe4d9596bba9146a36ef8b
Author: Halla Rempt <halla@valdyas.org>
Date:   Fri Sep 10 15:42:01 2021 +0200

    Set default undo to 200
    
    (cherry picked from commit 1c72b2c19a50e3df96b3203500123d1ec01f32e5)

commit 978d25d2774195e20a93c9b7effdc7dc7b3d18a3
Author: Halla Rempt <halla@valdyas.org>
Date:   Fri Sep 10 11:19:52 2021 +0200

    Fix log rotation
    
    This prevents enormous logfiles that make QTextView hang.
    
    BUG:442128
    (cherry picked from commit 508495a7428ae1499b6c34e688a65a2d824f2de7)

commit a60e51b08eae3f9706f6e58594be58a204e92bda
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Thu Sep 9 21:35:56 2021 +0800

    Add Qt patch to make mouse events from WinInk complete
    
    BUG: 439774
    
    
    (cherry picked from commit e3a74996834a637092d89c9d15d723376f909ffd)

commit 50c3d4109b9f4a4212d4ee28da017ac9c7f2844e
Author: Tom Tom Tom <tomtomtomreportingin@gmail.com>
Date:   Wed Sep 8 13:14:35 2021 -0400

    Tweak default threshold/fuzziness values
    
    BUG: 442171
    (cherry picked from commit ea017d4e55923fd6dde64a2bd885327729e7670e)

commit 8937e580f314f9f8c1f48ca80fa4fb7ecab5092f
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 9 14:17:01 2021 +0200

    BUG:440959 Limit thumbnail sizes in resource manager
    
    (cherry picked from commit cf8bf6753c33cace435d8a70ca5c5622c3eb5098)

commit 70d4df643baee730147a0e951a42c60b120021e4
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 9 15:18:28 2021 +0200

    Remove shortcut from advanced export
    
    (cherry picked from commit 5a3785ac940706354101c904b499376d738e625d)

commit 4c6899cbeff9c64f5c513d7e234f565e75f1ad70
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 9 15:19:53 2021 +0200

    Make sure that *.kra is the first item in "All Supported"
    
    BUG:437831
    BUG:442116
    (cherry picked from commit 8141535c0450ec62d24923973a6b634775ccb4e2)

commit 1fa7c823ff76caa095d71093aab60fd80b6f9a76
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Tue Sep 7 09:12:28 2021 +0000

    ChromeOS: Add a workaround for file renaming bug
    
    (cherry picked from commit 9e0cde3c50fa2738cf2b7e740450b3da7122e00f)

commit 2f90e0a162cccf750792ab59eedfb5eb470aa093
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Wed Sep 1 11:38:54 2021 +0000

    Android: Fix removal of directories
    
    removeRecursive on a directory would trigger QDir::cleanPath() which
    would try to incorrectly "resolve" the Uri. Eg. turning
    content://com.external to content:/com.external.
    
    (cherry picked from commit 8682bc45bad9b4b872a90bc0f1e55809ad051803)

commit 7da67e0e6bb677746bff81818f1897fbacdc8cf4
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Fri Aug 27 07:53:34 2021 +0000

    Android: Add failsafe if the file is removed in..
    
    ..the background
    
    (cherry picked from commit 2aea9a831a05680c8e24aa0457d875c29ef04a07)

commit 8b2013ba6b6b21acfbc8002074d3907c17da8db2
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Aug 26 12:46:00 2021 +0000

    Android: Implement backend for iterator and rename
    
    (cherry picked from commit e658d8b38aff3e99c186c9d621e73e2fdf5f6d54)

commit 868defc0391f376ac2b29fd8d83752d21e0865d4
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Aug 26 12:35:10 2021 +0000

    Android: Fix failing QFile::copy() when content://
    
    ..Uris were used
    
    QFile::copy worked with some files and directories but not with all
    types, specifically files not backed up by java File backend.
    
    (cherry picked from commit 1d92059f3bda49523dc619a61685a35e763abf4e)

commit 7bd487b2f6c36b3f52bf2ae1c777e0d782c4e302
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Wed Aug 25 12:56:00 2021 +0000

    Bugfix: Make Incremental/Backup version saving work
    
    BUG:427042
    (cherry picked from commit ad4beb82e0463d279e88dc13b697237513e1e28d)

commit 56cc612f6ebfc506483f715aa609cebc224cc122
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Aug 19 14:04:34 2021 +0000

    Android: Add a proguard to remove verbose/debug log statements
    
    (cherry picked from commit 56ff2a8dc398fe3da8e78822efa76897b56a0bef)

commit 51671e5f26be2fe53198011169edbe1d4d4ac7ca
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Aug 19 12:26:35 2021 +0000

    RecorderDocker: Use single pass to replace fileName
    
    when settings.outputDirectory has encoded path (which can include %20
    for example), the string subtitution produces wrong results.
    
    (cherry picked from commit 452b73ac2d694f78800c124e821c23ec7e9759f7)

commit 6defdc40a7562ee06c7ae93ac104e4f0329e5605
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Thu Aug 19 12:18:27 2021 +0000

    Android: Support directory operations
    
    With this Krita should be able to create files inside directories,
    directories inside directories and navigate them.
    
    (cherry picked from commit d63e6b8478a8b2b0a6571c562ea18f00dc2687d9)

commit eb8cbdc72085539863c7b99a674b6536d95857da
Author: Mathias Wein <lynx.mw+kde@gmail.com>
Date:   Wed Sep 8 22:33:17 2021 +0200

    Fix imprecise dimensions when using image size dialog
    
    Due to the way multiple units are handled, the result can be a tiny bit
    smaller then the true value of e.g. 50% of 2816 px, despite qreal precision.
    Furthermore, the spinbox will round to nearest integer when you
    switch back to pixels, so the final value should consistently be rounded
    instead of truncated for non-pixel input units.
    
    BUG:442124
    (cherry picked from commit b058b377aff035d156e13996b4ffa6f29a5bda9f)

commit 92c6cb650c7b23ed27da7c90ca6aac5a10ac0b57
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Wed Sep 8 16:08:56 2021 +0800

    Impl. touch blocking during tablet stroke
    
    1. In WinTab mode some drivers still send Windows Ink events which
       Windows synthesizes into touch events and triggers the pan touch
       gesture.
    2. In Windows Ink mode, even when the pen is being used, it is still
       possible to activate touch gestures with the touchscreen, which
       interrupts the current stroke.
    
    BUG: 441687
    
    
    (cherry picked from commit 99cb9adf7857a0b1411b7f95309da7db92a20bec)

commit b822a7851a0604ac6e06ccb1ad00db47b5fea914
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Tue Sep 7 14:31:39 2021 -0700

    Fix unit test crash from incorrect pointer access.
    
    Update unit test to reflect other design choices and changes made
    to the storyboard docker to improve workflow. We should have done this
    first when revising elements of the design!
    
    (cherry picked from commit a89da33ea90b0619d59fa52817189755d33b64f6)

commit 746583534a64d3a188579b14192b110ba7c34122
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Sep 6 17:15:24 2021 +0200

    Add one more test for line-polygon intersections
    
    The added test checks whether the polygon intersection code
    will detect that the line is fully outside of the polygon.
    
    (cherry picked from commit 3195bc35f669489f8c2991d0698045bcc2299afb)

commit 507163f1bbd44b807bde403fdebf0e82de97831d
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Sep 6 17:14:09 2021 +0200

    Add one more test for lineIntersections
    
    This test checks for precision issues on the edges of the
    boundary of the bounded line.
    
    (cherry picked from commit 9fde8d597db18587faa1c913fb9b25b73a0e05fc)

commit b2d8a1e2fa830da088fa19c936d4facdbe376a1a
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Sep 6 17:08:43 2021 +0200

    Fix previews of various local assistants
    
    Before this commit, some assistants wouldn't handle a rotated canvas
    correctly (the preview would bleed out of the local area), and the
    previews behaviour was inconsistent between different assistants.
    This commit fixes the previews and makes it consistent:
    - both the static (depending only on the assistant) and dynamic
    (depending on the mouse position) previews are always visible
    - both previews are always limited to the local area
    (except for the parallel ruler which doesn't have any static preview
    except for the exact line that was drawn, which is fully visible
    no matter the local area - it could be fixed at a later date
    if it turns out to be a big issue).
    
    BUG:441212
    (cherry picked from commit 843f2e8f15d9a9249393306fa1a1da382c142e4d)

commit cda0571ac992f001caa5fc9a85adc2a867fc43df
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Sep 6 16:26:40 2021 +0200

    Fix precision issues with KisAlgebra2D::intersectLines
    
    Sometimes on the edges of the "bounded line" in the intersectLines
    the function wouldn't notice it because of some little precision
    issues. This commit ensures that if the intersection point is
    not further than an epsilon from the boundary point of the
    bounded line, then it still will be considered
    even if it is technically "outside" of the boundary.
    
    (cherry picked from commit 8c158bce0086b1cb8e6df76eeb2d5d4e3a96ebcc)

commit 7ff7eee5f2e46a1a7e5b50956b5fad9640bac466
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Thu Sep 2 15:41:40 2021 +0200

    Implement KisAlgebra2D::cropLineToConvexPolygon
    
    Before this commit, there was only cropLineToRect
    which wasn't enough for some assistants which had limited area
    of preview (which becomes a rotated rect if the user rotates the canvas,
    which means it needs a custom function to cut the lines,
    especially since we want to cut the lines to viewport as well.
    
    This uses Cyrus-Beck algorithm.
    https://en.wikipedia.org/wiki/Cyrus%E2%80%93Beck_algorithm
    
    (cherry picked from commit 6f983d449a367a435dc6a5ad9d03ea78ad463a0c)

commit 614472fc3cbddff2b0aca65523456d02953ea496
Author: L. E. Segovia <amy@amyspark.me>
Date:   Tue Sep 7 15:53:24 2021 +0000

    OpenColorIO: fix GCC11 compatibility
    
    Half of the patch is redundant with 3ede172309c6655f09400923bd3a1ede649cfc4f
    so slipstream it there.
    
    CCMAIL: halla@valdyas.org
    CCMAIL: dimula73@gmail.com
    (cherry picked from commit 96c3b224a2a4234dce89c212c88880d008f1232e)

commit 07984b91300916fcbf05c8966138bbd7b0e183c7
Author: Ivan Yossi <ghevan@gmail.com>
Date:   Tue Sep 7 08:59:05 2021 -0500

    remove left over removed test from macOS lists
    
    (cherry picked from commit c6815cbae926bbfd0b75495bbefb7544c4b8fa93)

commit 25c95b38b24a179d28001d80094bcc6c08da31c3
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 7 15:08:10 2021 +0200

    Get openssl from our own dependencies store
    
    (cherry picked from commit 1dd828c85068868fc841f356e35fff23db434445)

commit 93d7c6d612c1d5663a52fd5e20fdf6ff755730e1
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 7 14:59:12 2021 +0200

    Also apply the path on other platforms...
    
    (cherry picked from commit 5b7750bb0329a046f8edee435badaf1cba70d15a)

commit a7e69386f6cd62bd6e868cac74ca1c1f7e81010a
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 7 14:53:39 2021 +0200

    Fix QFontDatabase::parseFontName
    
    It would crash if there was a space in the angle brackes for the
    foundry.
    
    BUG:430220
    (cherry picked from commit 105262fc28ddb8bb2f81c090823f4801524decd2)

commit 5aef6b854a144e2aa8f40b811898ded0be4f17db
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 7 13:53:55 2021 +0200

    Do not execute disabled actions in the task set docker
    
    BUG:441638
    (cherry picked from commit 504cb84ef82b0c355ed57215d24539549417bf75)

commit 109bf001299817ac4ef2664f189c79c1b8c8f0c4
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 7 13:30:01 2021 +0200

    Start file dialog in a sensible location
    
    Instead of /
    
    (cherry picked from commit 32431b290d1b1157fcf94981ec9c73e4accb4b56)

commit 0b8086ff2e47d2d70ea7a41a7868cad8da86e5e4
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 7 13:29:31 2021 +0200

    Check pointers before dereferencing
    
    BUG:441886
    (cherry picked from commit d38849b01a32732cc1203ce0adc7948bed88f861)

commit 7c2cc8e722da77fd460c09d3bb383392a5cd2142
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 7 13:28:13 2021 +0200

    Pattern manager: Do not add resources if not in gui thread
    
    BUG:442120
    BUG:441976
    (cherry picked from commit b510c738190eb53d276ab9681aadfcea04057db2)

commit fa79035875f2244423b6979e8e84c817ecd51de4
Author: l10n daemon script <scripty@kde.org>
Date:   Wed Sep 8 02:33:09 2021 +0000

    SVN_SILENT made messages (.desktop file) - always resolve ours
    
    In case of conflict in i18n, keep the version of the branch "ours"
    To resolve a particular conflict, "git checkout --ours path/to/file.desktop"

commit c15a2e16834d5464a6729f1007865fd3d12b9f08
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Mon Sep 6 16:53:38 2021 +0800

    Print the dpi arg warning only if it's actually set
    
    Also dummy out the argument parsing of it.
    
    (cherry picked from commit c34330bc3c668a7e583975e23b9c6554b502da52)

commit b8a99294fabbaf5e5baaf2a76bd20c94896e5bba
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Mon Aug 30 19:04:01 2021 +0800

    Maximize MDI subwindows when switching to tabbed mode
    
    (cherry picked from commit 9f55d83d594822303bb024f124d15fe74c7db6b2)

commit dded27b56c9ca960fce9b6348320ae2d7830ebac
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Mon Aug 30 18:54:30 2021 +0800

    Make new MDI window follow maximized state
    
    (cherry picked from commit fe11291b61c35a107de00f06b41186c40be1ff1a)

commit 56d4098e09460fec4497623466e51b45d9b71f23
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Sat Aug 28 23:53:30 2021 +0800

    Set QMdiArea::DontMaximizeSubWindowOnActivation
    
    ... so that subwindows that are set to stay on top will not get
    maximized when another view is maximized.
    
    BUG: 441644
    (cherry picked from commit c298ef535496f6a5571f567f81217f2834f782fb)

commit 1eaf9dc7f624ef29d6358c243dd25437adb890b1
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Tue Sep 7 13:24:11 2021 +0200

    Check that the model index is beneath colorchannel count.
    
    It seems the real bug is that the thumbnails/model can take a bit to
    update when generating the thumbnails, while the model/view is faster.
    In this time, we shouldn't try to access information that doesn't exist.
    
    BUG:442117

commit cfc772a8d5002c6c82e93184dbe7ae716b27ef7b
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Sep 7 10:46:34 2021 +0200

    Fix the layer style unittests
    
    (cherry picked from commit 3503242e01c368919203619a059ead62f1b49d3e)

commit 8628fd22c755584ef3606732bf3dbe6af8e2b904
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 2 15:43:51 2021 +0200

    Fix loading legacy brush masks
    
    If there are two resources in two storages that have the same
    md5sum (square_rough.png and texture_3.png), we need to make
    sure that the one with the filename stored in the preset can
    be found, so now resources(md5, filename, name) returns all
    matching resources.
    
    BUG:441350
    BUG:441347
    (cherry picked from commit 91bbbd5ffd64c918cb882815f71c097c8c220bf9)

commit fa573129d4ed506bed5a5f99f4ea9499c8e857c5
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 2 10:11:14 2021 +0200

    Remove commented-out code
    
    (cherry picked from commit ee8857085f890935311786b253564321f7aeae4a)

commit bf79ce9672adcc2fbf076b7813a370e6559c95b2
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 2 10:10:41 2021 +0200

    Warn the user if the preset could not be saved
    
    And don't close the dialog box in that case.
    
    (cherry picked from commit 97979c1895f94e4cfe55f2e1599a16b09a04348c)

commit 70849865578ec500378abef9eac9decb46c131d3
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Tue Sep 7 15:44:11 2021 +0800

    Fix duplicated signal/slot connection in OverviewWidget
    
    This was causing `OverviewWidget::generateThumbnail` to be triggered
    every second when more than one document has been opened during one
    session.
    
    BUG: 442075
    
    
    (cherry picked from commit f16f95f9eb09ef4e4fcca33ae3eebf5a9c452c99)

commit 4047cf75a149df05d86d5edc2533d03c93507c6a
Author: l10n daemon script <scripty@kde.org>
Date:   Tue Sep 7 02:31:53 2021 +0000

    SVN_SILENT made messages (.desktop file) - always resolve ours
    
    In case of conflict in i18n, keep the version of the branch "ours"
    To resolve a particular conflict, "git checkout --ours path/to/file.desktop"

commit eb05e6223d408a19b84298497da74c6e5fb1c085
Author: Halla Rempt <halla@valdyas.org>
Date:   Mon Sep 6 16:54:19 2021 +0200

    Set the current preset on the statusbar from KisPaintOpBox
    
    Doing so from the canvas resource managers runs into the signal
    rate limiter.
    
    BUG:441751
    (cherry picked from commit 9202fb2d4e07dfbe5dcd8f005159014ce3df13ea)

commit 0ea48ccc440a3b5386cf86cb55bb477abb0a5c5c
Author: Wolthera van Hövell tot Westerflier <griffinvalley@gmail.com>
Date:   Mon Sep 6 14:22:51 2021 +0200

    Fix loading of LAB KPL swatches.
    
    Not only was the wrong element being read, but also the formula was wrong.
    I should create a unittest for this when I am going to refactor the palettes again.
    
    BUG:441139

commit 5832ddfe6763f1225da89f9943fc6efda9fa9aba
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 13:10:21 2021 +0000

    Removed space before colon.

commit 3a50b858d4923d0c115f22da2dfba088b2099700
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 13:04:28 2021 +0000

    Capitalized Filter method labels, changed neighbor to Nearest Neighbor.

commit 1f1d381ffd9b4565cc477b9e3b894bece25cdcb9
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 12:58:18 2021 +0000

    Give text to New Document and Current Document.

commit 99f54b645db8401422c3d31908a581c27e39f413
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 12:52:21 2021 +0000

    Fixed typo.

commit bfe726976c9192a4837eaff6f9e0613814e304ec
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 12:18:10 2021 +0000

    Revert "Make the string "LightnessStength" translatable."
    
    This reverts commit 67c0b02a4457d4c603112a2b684c50c809e79432

commit 8113b44afcfa00138b119282952fc36e223cbb7b
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 08:48:57 2021 +0000

    Revert "Make the string "SmudgeRadius" translatable."
    
    This reverts commit ce5cabc5cdf5c92c7c5247319662e3cd4e296165

commit 4401988feb53c97c1fd8386dc6b0f10035d6ad7f
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 08:43:35 2021 +0000

    Make the string "SmudgeRadius" translatable.

commit 4c5ca35c1fd8f13cc8e84f69edbc8c887a314a85
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 08:38:55 2021 +0000

    Make the string "LightnessStength" translatable.

commit 069a7645799df0527c385097ffd7b7fb5a661c95
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 06:26:39 2021 +0000

    Disambiguate the strings of "Auto", "Predefined", "Text".

commit e7dedd0cbffaec858db740e9bf51cd9fb704c825
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 06:21:49 2021 +0000

    Disambiguate the string "Text".

commit 6826a1e3f0a6029c9dfa3ac989e46ee05eb34e53
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 06:19:06 2021 +0000

    Make translatable for the string "Export Directory : "

commit 6c5a3773e197d72074260badb586481b37ae76fb
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 06:15:45 2021 +0000

    Disambiguate the strings of " FPS" and " s". Enable translation for "New Document", "Current Document" and 5 Filter methods.

commit 35d9dd3de562d7ae14a6539b62360b81c55e554d
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 05:59:31 2021 +0000

    Disambiguate the strings of "Stroke", "Declination" and "Ascension".

commit f28d5fdbb94fa8f94c400d7e942c2e50f164065e
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 05:51:22 2021 +0000

    Disambiguate the string "Stroke"

commit b0b7c9c47f0c1d6382f637df2eae0598757797c6
Author: Tyson Tan <tysontan@tysontan.com>
Date:   Sun Sep 5 05:48:58 2021 +0000

    Disambiguate the string "Stroke"

commit ed36f6ea95dd07bbae32c693752737fe0d2d2c64
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Mon Sep 6 18:14:40 2021 +0800

    Fix floating message fadeout not being stopped by msg change
    
    BUG: 442058
    
    
    (cherry picked from commit e75800899286eee5ace61380b7c68699f300af6d)

commit e404bf1e5b2adc8d550e34c5712ba07c1ed71ac4
Author: l10n daemon script <scripty@kde.org>
Date:   Mon Sep 6 02:30:56 2021 +0000

    SVN_SILENT made messages (.desktop file) - always resolve ours
    
    In case of conflict in i18n, keep the version of the branch "ours"
    To resolve a particular conflict, "git checkout --ours path/to/file.desktop"

commit 93111de94474fbd94b4718737f02611eb8554054
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Wed Sep 1 20:46:40 2021 +0800

    Fix touch pan gesture stopping when moving quickly
    
    The code before this change ignores large movements to prevent canvas
    from jumping at the end of a 3-finger gesture, which also blocks fast
    panning. This removes the movement delta check in favour of checking the
    number of touch points, so that fast movements will no longer interrupts
    the pan gesture.
    
    BUG: 441706
    
    
    (cherry picked from commit f6c204f5f93617610edf9716d4741de0bd25e6cc)

commit 8364b656d3b1c8be50afa2830d121f823473cea5
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Sat Sep 4 21:25:49 2021 +0800

    Use QScreen from QWindow to handle KisPopupButton positioning
    
    This fixes two issues:
    
    - Explicitly setting screen before showing to ensure the correct
      devicePixelRatio scaling.
    - For detached brush editor, use the screen it was previously moved to
      instead of forcing it to be shown on the same screen the main window
      is displayed.
    
    BUG: 441935
    
    
    (cherry picked from commit f9476b105f37702b73e24ae7d2026b3c7ea8b127)

commit 65afc72e13f5dd35f85d8e7a2316d1a803959652
Author: Know Zero <knowzerox@yahoo.com>
Date:   Sun Aug 29 15:57:21 2021 -0400

    Indicate when H264 support is disabled in FFMpeg
    
    A common mistake made by users is downloading or using an FFMpeg
    version that has H264 disabled, then trying to create an MP4/MKV
    only to get an "unknown error". Until the render UI is overhauled,
    this is an interim solution to make it clearer for users that their
    FFMpeg does not support MP4/MKV by putting "(MP4/MKV UNSUPPORTED)"
    next to the version.
    
    Also makes it more clear when FFMpeg is not found.

commit b9bffea3db5f7cae8aac6552c094839e1f5d64cf
Author: Know Zero <knowzerox@yahoo.com>
Date:   Sun Aug 29 15:54:52 2021 -0400

    Fix recorder to use KisFFMpegWrapper for finding FFMpeg
    
    The checkFfmpeg function in the recorder was not using the wrapper
    to detect FFMpeg, this was an oversight and this patch should fix that.
    
    This will also fully fix Bug #441435

commit cbeaf7175b8f1546f5d851f5f59f6a3caf8384f7
Author: Mathias Wein <lynx.mw+kde@gmail.com>
Date:   Thu Sep 2 10:53:07 2021 +0200

    Yet another docker title bar fix
    
    Hiding docker title bars must happen after the collapsable
    KoDockWidgetTitleBar has been set.
    
    Also, the toolbox incorrectly got a KoDockWidgetTitleBar.
    The old check `&& factory->id() != "TimelineDocker` simply was redundant,
    just all dockers that don't set a custom title bar get our standard one.
    
    (cherry picked from commit 793b39856ac2e6b79735823df34491ce1eec6dc3)

commit 7b3f04361f6e5b307a125fa973bfc452699a7abe
Author: Tom Tom Tom <tomtomtomreportingin@gmail.com>
Date:   Wed Sep 1 17:28:37 2021 -0400

    Assign icons to iconless tool actions
    
    (cherry picked from commit 6262216727eab22192f01fe193ab2ef67e3c6a9b)

commit 50d6e245035025e20bef9055bb8730738d8a5e61
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Sep 2 09:06:57 2021 +0200

    Check pointers
    
    (cherry picked from commit bf137512e967399636615dd95da2761f1e6ed0d5)

commit 7cf36037448feab2f129a08cef036f7d33c2cede
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Wed Sep 1 18:54:01 2021 -0700

    Storyboard Docker: Refined keyframe addition logic when adding scenes.
    
    (cherry picked from commit 36cf61d81e3b2a61f5bbe1fca35cc4120a0235ac)

commit 22eaf86648c9636a17d4b6d80e59c51ceb5e38cc
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Wed Sep 1 14:22:41 2021 -0700

    Fix missing translation string in AnimationCurvesDocker.
    
    BUG:441842
    (cherry picked from commit b5ec195ef58854a2224f8dbd96b34e96cac88248)

commit 9ef5b9116f4354fe46a2c6da5f360a6415913aa0
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Wed Sep 1 13:20:32 2021 -0700

    Fix startup segfault.
    
    (cherry picked from commit 563efda1629e02e1ef912cc31d94d9a1f0b1d69c)

commit 64927f588184ae50239380a0c600bd0cf117ce23
Author: Ivan Yossi <ghevan@gmail.com>
Date:   Wed Sep 1 15:00:12 2021 -0500

    Check for null pointers
    
    (cherry picked from commit 548e51e16aa252c6795af67d7e9afb8fcfa7f325)

commit 58a7ad5d69642f0097df35bed90313439109cb16
Author: Tom Tom <tomtomtomreportingin@gmail.com>
Date:   Thu Sep 2 07:19:44 2021 +0000

    (5.0) Fix bezier snapping

commit b9918eda6ebc1cbe6148d5922a0fc1a665291bb9
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Sep 1 14:12:20 2021 +0200

    Fix handling ofshowDockerTitleBars
    
    If the docker's titlebar widget inherits KisUtilityTitleBar, the
    titlebar should never be hidden. Plus, we should restore the
    setting on start-up
    
    CCBUG:441303
    (cherry picked from commit 58fcb587b8f360b5dfc564a43eda79c8c8ad144e)

commit 05ff8fdf2e902238ca70f36c4a2bd9e1f73db928
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Sep 1 11:27:38 2021 +0200

    Fix saving a resource over an existing, but deleted resource
    
    BUG:441699
    (cherry picked from commit 139d7441681f672d2a0967d0fa021b46c1c841d0)

commit c085b1686aac6ee9fc2685e4c3c6bd0f068dc72f
Author: Sharaf Zaman <shzam@sdf.org>
Date:   Tue Aug 31 18:13:24 2021 +0000

    Android: Fix stretching of buttons due to..
    
    ...donation banner image
    
    BUG:441166
    (cherry picked from commit 11ce71fff6fbe8830f6fddea55251cd550698102)

commit 3ecf4ffe12ca67de48af7bebb8719fd5d8ee29eb
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Aug 31 20:59:07 2021 -0700

    Storyboard: Change auto-raise property of buttons on GUI.
    
    (cherry picked from commit 4203bd03fea9fd6b74f678991d8dc1dd99446fe8)

commit 19461c006d0674d68d9cbc1050d7ef6ce21de982
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Aug 31 20:53:41 2021 -0700

    Storyboard: Added event filter to eat escape key and commit comment field.
    
    (cherry picked from commit 43c8ce5a0d5385baec3f37d704b3f8de00cfd136)

commit 275f26c699c6534e8c51e05c4029417e5b903e04
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Aug 31 20:07:12 2021 -0700

    Storyboard: Rename method to be more descriptive.
    
    (cherry picked from commit b59caa12f9782500664021af652a77d6fb3f1007)

commit a004d7ff45cc2df252466ee2205ecff602ec4eb8
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Aug 31 18:45:27 2021 -0700

    Storyboard: Drop-down menus now show when clicking anywhere on button.
    
    (cherry picked from commit 7525d5a81e0e0c0b23cf8a327467a7f89b1312db)

commit 6102c2539525ba6ee8b3f8a63e00ae31619759f1
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Aug 31 18:37:58 2021 -0700

    Storyboard Docker: Add icons to GUI buttons on docker.
    
    (cherry picked from commit f69106528490c850ea709285554e15e6566bab58)

commit 724bcf1b94376de9714394288c8b56ebf741c150
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Aug 31 18:25:27 2021 -0700

    Storyboard: Change default layout to row orientation.
    
    This works better with our Storyboarding workspace.
    
    (cherry picked from commit 895c340bd2b56d0cb63f49d14fc0a3dfca034305)

commit ab01b1937f30fd50e199964e9f9b38a18e5dc1a3
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Tue Aug 31 18:15:20 2021 -0700

    Storyboard: Added create / remove scene buttons to footer.
    
    Reuses localization strings, so should be OK.
    
    BUG:441593
    (cherry picked from commit 9fb4d14f1357118bb168c9e6eaa554c3bcf2de77)

commit 4c36d4ea5972f6701dc95b22f972fd592228312c
Author: Emmet O'Neill <emmetoneill.pdx@gmail.com>
Date:   Mon Aug 30 20:15:44 2021 -0700

    Storyboard Docker: Added footer.
    
    It's better for general workflow, as well as consistency with the rest
    of the program, to have a footer section at the bottom of the Storyboard
    Docker with dedicated create/delete scene buttons.
    
    (cherry picked from commit 5cb1b5e4c745bbab5bfe13965e6421ae5621fb06)

commit 876598b3f7dc9929f29531063a67cae318d67875
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Mon Aug 30 11:46:50 2021 -0700

    Fix a crash in storyboard docker when removing boards.
    
    First frame removal would cause a crash due to improper value being fetched.
    (Specifically, we aren't interested in the last keyframe of a storyboard
    entry, but the last visible frame of the board.)
    
    BUG:441592
    (cherry picked from commit f554fdb9c2f531d1688c16b2aceb1e5fc749080a)

commit aeb7fa8ca8555aa45d46f2866b6bdef25e17673c
Author: Tom Tom Tom <tomtomtomreportingin@gmail.com>
Date:   Mon Aug 30 11:38:10 2021 -0400

    Fix sig/slot connection so that changing angle in Calligraphy tool switches to Current profile
    
    (cherry picked from commit 511fa5712df13dc8c2069e9fa8e2bd42e8029f8f)

commit 5d252c7a2551f5b2b0ca5b1957a5e9f4e447490b
Author: Ömer Fadıl Usta <omerusta@gmail.com>
Date:   Mon Aug 30 12:09:45 2021 +0000

    freenode -> libera
    
    (cherry picked from commit 1e1cce7980109e70611d5347f73388cc440b1d28)

commit 72548f489817d14bf83903d0a290754e5fbc01dd
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Sep 1 11:13:09 2021 +0200

    Don't call the database when Krita is already running
    
    That gives ugly errors on the commandline (though it's completely
    harmless)
    
    (cherry picked from commit a2cf598365a33aa13a5563a11d91408df559a336)

commit e5fda5c394101cde9e64d8e91bbccf50f16f24b9
Author: l10n daemon script <scripty@kde.org>
Date:   Tue Aug 31 02:40:37 2021 +0000

    SVN_SILENT made messages (.desktop file) - always resolve ours
    
    In case of conflict in i18n, keep the version of the branch "ours"
    To resolve a particular conflict, "git checkout --ours path/to/file.desktop"

commit 2e95dd5069a27ed9f45e377fd7bc95f015c53504
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Mon Aug 30 14:51:43 2021 +0800

    Disable kinetic scrolling scrollbar workaround for TouchGesture
    
    (cherry picked from commit 89973d64b6ed95ec193b37c258d56756d66b43f4)

commit 56f13082246a71701a9a9ffe69c1700a8c7aaedc
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Mon Aug 30 01:25:33 2021 +0800

    Make scrollbar usable with kinetic scrolling enabled
    
    (cherry picked from commit 8ff0558e351a0548cfbc3a5407ca1ddd1605046c)

commit 49e92d1fa6f517cffb0d0a12a525a44e4ed61a4b
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Sat Aug 28 18:29:22 2021 +0800

    Remove the remaining use of KoDpi
    
    It seems that whatever code that had been using KoDpi in the past had
    moved away from it, and the remaining use of it does not have any effect
    in practice at all.
    
    (cherry picked from commit afb855383c1bdb84b134792f4936a25e297a4c12)

commit 6dadff3a302d815f33fcfc457d3c855313ead4cf
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Fri Aug 27 17:44:22 2021 +0800

    Fix zoom level on floating message mismatch with other places
    
    BUG: 429569
    (cherry picked from commit ba89aa33d5d1e934da9842570197cb0893da5188)

commit 6f1ef78e3d18679c495e0ac161de3131dabf2cad
Author: Halla Rempt <halla@valdyas.org>
Date:   Sun Aug 29 14:53:56 2021 +0200

    Add jpeg2000 mimetypes with x- so the plugin is found
    
    BUG:208578
    (cherry picked from commit 542dcd306e236ec776a81e389d0a601387739e48)

commit b15a6ad6b0b731dc9a3deb7febe68fb81d1a4dc2
Author: Halla Rempt <halla@valdyas.org>
Date:   Sun Aug 29 14:51:17 2021 +0200

    Log failure to load an image in the right place
    
    (cherry picked from commit 6fb94eeeadb031d7f7b042ba6acb446bcdfcfa21)

commit 23e1ca263ce09b30530953a861a0e71928d70397
Author: Halla Rempt <halla@valdyas.org>
Date:   Sun Aug 29 14:50:46 2021 +0200

    Remove the local KritaPluginDebug debug area
    
    Use the global dbgPlugins area instead
    
    (cherry picked from commit 8e2c2dd46ac66a50f3daa42203143c758da13d18)

commit ab7336f304b83f229f7db2653b4b878cc22ad82b
Author: Halla Rempt <halla@valdyas.org>
Date:   Sun Aug 29 14:02:16 2021 +0200

    Don't show an empty Reasons list
    
    This also removes the final dot in the Reason message in the
    warning dialog, because the errors themselves already have a
    dot in them.
    
    (cherry picked from commit 8136a214d4008cf321221f5889c1b0c450e46828)

commit a1bc48c50c39a9738199489f790dc5743ac22526
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Fri Aug 27 22:54:07 2021 +0800

    Remove unused KoDpi.h includes
    
    
    (cherry picked from commit adb888131f6a70c0757ac85ca2c5b1f09ae7f3f9)

commit 14c66e1acff0055714464154d77d90028919e886
Author: Halla Rempt <halla@valdyas.org>
Date:   Sat Aug 28 10:38:29 2021 +0200

    Resource manager: change name lineedit to a label
    
    Because editing names isn't supported yet.
    
    (cherry picked from commit 4839c3709ada2b157b9dae3ee22696d6ff965fae)

commit 58dcdce017149fe1551fddd84e7fdbedeb1426dc
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Sat Aug 28 02:37:20 2021 +0200

    Fix Recorder config not updated after user change
    
    Before this commit, Recorder docker would not notice user changing
    the settings until after restart of Krita. This commit ensures
    the settings are read after every change.
    
    BUG:441202
    (cherry picked from commit f9d7e901476b7cb6a4b7ad1e352972522555281f)

commit f13c5a68e9500631cc3cd18c21013a40d0c25d98
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Sat Aug 28 01:48:11 2021 +0200

    Fix default filename for Log Viewer not saving on Windows
    
    Before this commit, if the user tried to save the log from the
    Log Viewer on Windows, and just clicked "OK" without changing the
    default filename, there would be an error of not being able to
    save the file.
    The reason for that was a colon in the filename, which is not
    allowed on Windows.
    This commit removes the colon by providing a custom format
    for the date that is attached to the log filename.
    
    BUG:440295
    (cherry picked from commit 349cf7c7db5c37b304348cfd11ed38886c0e5ff5)

commit ab43cbb23d7c247d9377a0ff301ba0a0196eaddc
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Sat Aug 28 00:51:58 2021 +0200

    Ignore layer styles that have already used uuids
    
    Before this commit, if the user downloaded an incorrect asl
    file (with non-unique uuids, belonging to repeated layer styles),
    Krita would be confused on next run, because it would assume
    those other layer styles are new versions of the already known ones,
    and try to save new versions of them.
    This commit just make Krita ignore all layer styles whose uuids has been
    already used in the file which prevents the trouble.
    
    BUG:441583
    (cherry picked from commit 8d97c8e529755135663f94f6832c35427954165e)

commit 9a21f9b57f86436b0f4360a6a484005fe945285e
Author: Halla Rempt <halla@valdyas.org>
Date:   Fri Aug 27 10:30:40 2021 +0200

    Clear filter widget when a tag is selected
    
    BUG:441106
    (cherry picked from commit d4c81f2b8097f900e8143b8edbcf4071efc8497c)

commit fe71ad7d24940586e6d87fb28f453daeb3b87e53
Author: Halla Rempt <halla@valdyas.org>
Date:   Fri Aug 27 10:21:18 2021 +0200

    Add reconstituted patterns to the memory storage
    
    BUG:440740
    (cherry picked from commit cd9f980c302adcbe537e1cd42f5959c8b98ee946)

commit 70308bbbd6a96bd20829a505d3c642289635bbdd
Author: Halla Rempt <halla@valdyas.org>
Date:   Fri Aug 27 10:19:57 2021 +0200

    warning--
    
    (cherry picked from commit 7ddaac8a4380813048f30d62c2d98bf89a12ccc0)

commit 196843fe3d192f69c9be9fa9b24cd95cf3f1d808
Author: Halla Rempt <halla@valdyas.org>
Date:   Fri Aug 27 10:19:38 2021 +0200

    Check resource before dereferencing
    
    (cherry picked from commit 05235b6964d0b7788815a588d82d2e3dd9913944)

commit 01e0a8540474869dfa6d9ead5f4f76e974b0896a
Author: Ivan Yossi <ghevan@gmail.com>
Date:   Thu Aug 26 15:51:05 2021 -0500

    Add missing overrides
    
    (cherry picked from commit e20ff684b85907daf8fa6906af7323f8373951a4)

commit 49208f9db3119fc64c1de2026ad02cf018a92798
Author: Eoin O'Neill <eoinoneill1991@gmail.com>
Date:   Thu Aug 26 13:22:44 2021 -0700

    Increase timeout time for FFMPEG infromation query call.
    
    BUG:441435
    (cherry picked from commit 123c302c722376870ed6def5a873b046576882b8)

commit 28810e06e36d6bea4b73227dc941188d98e13853
Author: Ivan Yossi <ghevan@gmail.com>
Date:   Thu Aug 26 14:50:18 2021 -0500

    Fix waiting for save to finish on slot not reached
    
    This keeps errorMessage as const and creates a copy for modified string.
    
    (cherry picked from commit 3bd7c6122158e3e416203cf99188a2798181808d)

commit 0e0642069c37e3a779eb1e7deab166c2ed9915eb
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Aug 26 15:30:19 2021 +0200

    Make searching for presets by name work with spaces
    
    Since we show spaces, we should use spaces for the preset name
    as much as possible, and make that work with the search box.
    
    (cherry picked from commit 88e48c58ed576b946dbc49ce0fa00e2dcb24afbd)

commit 0e6d9696a84991b1a1a8ad016bdcde28396e2aeb
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Aug 26 15:29:40 2021 +0200

    Add a fall to find unloaded dependent resources that referenced from other resources
    
    BUG:441345
    (cherry picked from commit ca5928f1eab31b7379a9049c06a85cad067a732c)

commit d7fdaa3f1ff46c3995854af074955dc9bc7afa27
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Aug 26 15:29:05 2021 +0200

    Use the resources' active state when adding to the database
    
    (cherry picked from commit 8e9d93d91a8762b6d1122fea68f871e4c66f023d)

commit 452f7f5a1a0c5a0eb0ccd536c1fc3c66928a5726
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Aug 26 15:28:24 2021 +0200

    whitespace fixes
    
    (cherry picked from commit 5efa86a7b88fe868e445cc9642b02b98703c07df)

commit dff94fc194c0a28617da3afd6befdfa924ff36b2
Author: Halla Rempt <halla@valdyas.org>
Date:   Thu Aug 26 15:27:47 2021 +0200

    Adding a resource for the second time does not mean failure
    
    (cherry picked from commit ad221b7ce5b8e6b545e36a79820a92c8a64fc271)

commit 6a641347b5fb794c8e8276720a045186ba03fcaf
Author: l10n daemon script <scripty@kde.org>
Date:   Thu Aug 26 02:17:09 2021 +0000

    SVN_SILENT made messages (.desktop file) - always resolve ours
    
    In case of conflict in i18n, keep the version of the branch "ours"
    To resolve a particular conflict, "git checkout --ours path/to/file.desktop"

commit 6f756f34f9ed65713c3f2aa4c20e49f9658eed35
Author: l10n daemon script <scripty@kde.org>
Date:   Thu Aug 26 01:41:54 2021 +0000

    GIT_SILENT made messages (after extraction)

commit 5686325adb8cff44d62c2ae0b2f87e3e96e093ed
Author: Ivan Yossi <ghevan@gmail.com>
Date:   Wed Aug 25 13:51:38 2021 -0500

    Fix left behind brush preset window on macOS
    
    BUG: 441298

commit 8f23816231bf9e456293ab4913544c3f6ac8b386
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Wed Aug 25 20:28:37 2021 +0800

    NSIS: Add QuietUninstallString
    
    Ref:
    
    - https://nsis.sourceforge.io/Add_uninstall_information_to_Add/Remove_Programs#Recommended_values
    - https://github.com/microsoft/winget-cli/issues/1368#issuecomment-898698659
    
    
    (cherry picked from commit a56d6aad87f78a5a04f0dcb656f124e048a77738)

commit 6d95dce69d20b41d6c61d91e85556606785032b6
Author: Alan North <alanscodelog@gmail.com>
Date:   Sat Aug 14 14:15:21 2021 -0300

    Brush Editor: Fix unchecking share curve resetting curve
    
    Before this commit, from the user's perspective unchecking "share curve"
    would result in the curves for all the sensors, including the current
    sensor resetting to what they were before "share curve" was checked*.
    
    This commit makes it so that the current curve and any active curves are
    not reset (by setting them to the previously shared curve). Other curves
    will still reset as before.
    
    * If a new brush is saved or krita is restarted, disabled sensors will
      get reset to the default curve.
    
    (cherry picked from commit b89e4785abdeb9824ef5cb6c9e6431af7f8d55cb)

commit 1b8f551f736f15901dd0a8569df0ad5609e5b521
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Aug 25 11:24:53 2021 +0200

    Add the background document's error message to the error message
    
    Maybe this will help with the empty "could not save, reason"
    dialog.
    
    CCBUG:441520
    (cherry picked from commit 66a04399b1980ec6c9656a8a924f9afa9cd33be3)

commit e5fc9e2f6132e2c654306f0f8a44cc14dac4dc49
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Aug 23 19:03:08 2021 +0200

    Fix clear color history button layout
    
    Before this commit, clear color history button was just added
    to the side layout without even checking if the color history
    is vertical. It caused bad look when the color history was located
    horizontal (underneath the color selector).
    
    This commit puts both the color history widget and the clear color
    history button into its own layout. Depending on the direction
    (horizontal or vertical), the layout is in that direction,
    and the widgets are added in order: first color history, then the
    button.
    
    A solution of not creating its own ayout and using the existing
    m_verticalColorPatchesLayout or m_horizontalColorPatchesLayout
    wouldn't work, because for example the horizontalColorPatchesLayout
    is in fact a QVBoxLayout, which means the widgets underneath the
    color selector would be:
    1) color history
    2) clear color history button
    3) color patches from the image
    all placed one underneath the other.
    But the desired result is different:
    1) color history + clear color history button
    2) color patches from the image
    So this commit adds a new horizontal layout that is placed
    in the (1) slot and contains both of the widgets.
    The same goes for the other direction.
    
    The new layouts also place the clear color history button aligned
    centrally in the direction opposite to the layout
    (central horizontal alignment in case of vertical color history,
    and central vertical alignment for horizontal color history).
    
    BUG:434915
    (cherry picked from commit bad2b20c02accdd6fb234afca885d3a7cc4cff96)

commit bbc040892e4d8f5577a5f9941e4ee725db94a3e4
Author: L. E. Segovia <amy@amyspark.me>
Date:   Wed Aug 25 01:37:45 2021 +0000

    Metadata: fix use-after-free in tag name parsing
    
    (cherry picked from commit cf3c6d578b8496aa50fc6967306f9ba4e4bd1763)

commit 090640ef349418667156d98e8d9cd9c9e8e60481
Author: L. E. Segovia <amy@amyspark.me>
Date:   Wed Aug 25 01:06:46 2021 +0000

    KisAnnotation: fix C4275 (non-exported class)
    
    (cherry picked from commit f60745686e6faa4d28d7c64a0f3b8685f5c39ba6)

commit 0437813bd43e54c6c7d30247c93906b1901526d3
Author: L. E. Segovia <amy@amyspark.me>
Date:   Sun Aug 22 18:33:38 2021 +0000

    Metadata editor: use QLocale to format date
    
    (cherry picked from commit fdf870c11d8b7d8e2e662a2f28337e8da3c20f0f)

commit 55d2d2ddb8b095367030ee0e6d74be2a8a8194a0
Author: L. E. Segovia <amy@amyspark.me>
Date:   Tue Aug 17 02:12:11 2021 +0000

    Metadata editor: fix Dublin Core date display
    
    (cherry picked from commit 5b50fe4281fa8fdbc3cbd260074e9af6d7d5c19c)

commit 8702bb9001eb09519e5b8f49d3634816f8db398d
Author: L. E. Segovia <amy@amyspark.me>
Date:   Tue Aug 17 02:11:42 2021 +0000

    Metadata editor: reimplement entry handling
    
    This commit implements entry handling based entirely on a few compile
    time macros and Qt's newer signal/slot syntax.
    
    This allows me to add support for flash metadata, which was
    broken since at least 67b39577b6dc9e5f2e5e2885b2188cbd393c55f6.
    
    While at it, add a default icon to the Dublin Core pane; the old one in
    the xmlgui file was missing since forever.
    
    BUG: 410341
    
    CCMAIL: kimageshop@kde.org
    (cherry picked from commit db407cd7993794ebb125ae63b720e11325f7365c)

commit d17613e86b20ef3c59382c758021571890c5fe5f
Author: L. E. Segovia <amy@amyspark.me>
Date:   Tue Aug 17 02:12:30 2021 +0000

    KisMetaData::Entry: format error correctly
    
    (cherry picked from commit 724ac3b0957a13a6c255e04a4e14a3b368e736f5)

commit 2c76ab522507d096628edc8440b4b37e1e19d071
Author: L. E. Segovia <amy@amyspark.me>
Date:   Sun Aug 15 01:31:02 2021 +0000

    Metadata editor: standardize UI layout
    
    (cherry picked from commit efa04eb490d5ba811d02d19506d1fc3e138af49b)

commit 1455dc6e5b57dec38ec03cebe8192582e04382a2
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Aug 24 14:20:47 2021 +0200

    On loading a bundle, remove resources that are missing from the manifest
    
    CCBUG:441473
    (cherry picked from commit ec904eba1b6c282302a8e6908bbdda23301a3438)

commit 3762d37c6fce32810667104ec78cc08d8a3d49d4
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Aug 24 11:11:23 2021 +0200

    KoPattern: Check correct mimetype string
    
    (cherry picked from commit e642383b0cc9d052e5311ab89d3fd690f57b30ac)

commit 5bbde7a5fc66e95dd6dc9039b5633c3c9af5df8b
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Aug 24 10:39:28 2021 +0200

    Splash: Remove the stay on top hint on Linux
    
    BUG:430461
    (cherry picked from commit 9f2cb7e197a2f1add8cd82a175398974284e5587)

commit d334f29df74ef391da783b42745f291915d06cfc
Author: Halla Rempt <halla@valdyas.org>
Date:   Tue Aug 24 10:30:10 2021 +0200

    Pattern chooser: Check pointer before derefencing
    
    BUG:441458
    (cherry picked from commit ea3a3b0eb06278151e7fd2ca200c0f58f8eef86c)

commit 3e1b514a43830b6bac3582c3e3b012943bf5de0c
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Tue Aug 24 09:29:59 2021 +0300

    Remove the usage of lrint() for rounding float-to-int
    
    It generates extremely slow code on Windows. For some reason
    msvcrt.dll falls back to x87 instructions on Intel CPUs, which
    makes the benchmarks for 6(!) times slower.
    
    (cherry picked from commit 812d3cb247f66e926b8533b38665e645f6edf353)

commit 408434d6aec3693292bd20291531dfd6769f9eb8
Author: Deif Lou <ginoba@gmail.com>
Date:   Sun Aug 22 16:52:21 2021 +0200

    Fix crashes when selecting some filters in the filter brush options
    
    (cherry picked from commit b97d944ab8a9673c7eb27394f67f3a98ce19d2b8)

commit 28314b30d580bbbbf0a323b3d2fcf9c80b26ec01
Author: Deif Lou <ginoba@gmail.com>
Date:   Sun Aug 22 16:50:32 2021 +0200

    Make the filter brush op use canvas relative coordinates
    
    (cherry picked from commit cfdd3db292b1f35af5c1b0404d5fe0d3d2f14336)

commit 5c2ac44d9bbcd982db764036235fb581a04cfe04
Author: Deif Lou <ginoba@gmail.com>
Date:   Sun Aug 22 10:51:25 2021 +0200

    Make filter brush widget default initialize the selected filter widget
    
    (cherry picked from commit ba737023c1b605fe37709237fd282f7c76399293)

commit 19e3a8fae77e90fc7cac86ac82e50310267644e5
Author: Tom Tom Tom <tomtomtomreportingin@gmail.com>
Date:   Sat Aug 21 00:59:19 2021 -0400

    Put dbexplorer deeper into the keyboard shortcuts interface
    
    (cherry picked from commit 5d59ccaa49bdda040b5f39a9732f89396262e3ff)

commit a5a8665bdfa837117a54988e3d8a72198b9bcee9
Author: Halla Rempt <halla@valdyas.org>
Date:   Mon Aug 23 11:58:02 2021 +0200

    Check whether the texturemaskinfo is valid before using it
    
    BUG:441356
    (cherry picked from commit 98f6eec605642bd872b4c4ce3f42601f34226f9e)

commit 49842cde14e25c3952355637e9c4503a1202baa0
Author: Halla Rempt <halla@valdyas.org>
Date:   Mon Aug 23 11:57:27 2021 +0200

    Determine the mimetype of a pattern from its contents
    
    Some bundles contain patterns that have a .png extension, but
    are actually gimp patterns.
    
    CCBUG:441356
    (cherry picked from commit 55332f5508d2d46b4375375babebd9e40242a04e)

commit 1002833bab5cdc8773112730690e1ea000b04146
Author: Halla Rempt <halla@valdyas.org>
Date:   Mon Aug 23 11:03:54 2021 +0200

    select similar: Set fuzziness when creating the option widget
    
    BUG:441371
    (cherry picked from commit 473a5f9756ff7c6475801a63d178ca300d73ac63)

commit 6fb2bad2104229acbaabc922251b32d4e03db9b6
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Sun Aug 22 21:21:55 2021 +0200

    Remove part of the tooltip for resources name filter
    
    The tooltip for the resources name filter was outdated.
    Thankfully the part that was outdated was separated from the
    rest of the tooltip, hence this commit shouldn't cause any
    i18n trouble.
    
    BUG:441107
    (cherry picked from commit 60881383454292011072c21684a72c4732073759)

commit 3de6cffc0e0751a70b084b91954aaca5dc0522af
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Aug 16 20:21:33 2021 +0200

    Fix tab order in HSV Adjustments Filter widget
    
    Before this commit, the tab order in HSV Adjustment Filter widget
    was very incorrect and looked random. This commit adds the specfic
    order to the .ui file so now the order is correct.
    
    BUG:421629
    (cherry picked from commit 4826656afce8b608bd3cec2de7126405aa93d087)

commit 09637ff85051abb251df766a8c598691fe5464d1
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Aug 16 20:02:57 2021 +0200

    Fix typo in WindowLayoutResource sort screens lambda
    
    Before this commit, if the screens had different X values,
    the return value would be always false because the lambda
    checked aRect.y() < aRect.y() which can never be true since
    it's the same value on both sides.
    
    This commit fixes it by replacing one of them with bRect.y().
    The direction is consistent with the previous line.
    
    BUG:421082
    (cherry picked from commit 77533803826b91afc573b9d249307391c4120902)

commit ec585347cfd22424ec6db01e559ae665afc7a64c
Author: Agata Cacko <tamtamy.tymona@gmail.com>
Date:   Mon Aug 16 15:55:05 2021 +0200

    Fix typo in setting the url in KisTagModel renameTag
    
    (cherry picked from commit 4c7f72cc588a6e5230dc94de0ff9908fa3a5fd5a)

commit 79ffdb5214d2de4d05226e8056ceec24b219aa9c
Author: l10n daemon script <scripty@kde.org>
Date:   Fri Aug 20 01:49:28 2021 +0000

    GIT_SILENT made messages (after extraction)

commit dd4495836419c27f5eeb0e07b601205a460c04d8
Author: L. E. Segovia <amy@amyspark.me>
Date:   Wed Aug 18 18:55:42 2021 +0000

    GMic: update to 2.9.8 patch 1
    
    BUG: 441113
    BUG: 441116
    (cherry picked from commit 090fbdca858d904113b5723c24fdf841111676d0)

commit c3e8a0c89d4af33d1abba49677613e43b1df9d2f
Author: L. E. Segovia <amy@amyspark.me>
Date:   Wed Aug 18 16:07:55 2021 +0000

    QMic: remove plugin from the global state
    
    This prevents double free when calling GMic with the last filter
    configuration.
    
    (cherry picked from commit ae492c599268a38ff43b7b09e8504c47547c7bf9)

commit a00cc37b7b979b103b8da720b2a98e309f3feb27
Author: L. E. Segovia <amy@amyspark.me>
Date:   Wed Aug 18 16:05:02 2021 +0000

    QMic: don't access m_nodes if there are none available
    
    (cherry picked from commit e35715043c32fa0f43b9a13baa15dbb3da5f5858)

commit ea38224126167ef77dcb1ce83d7e54f0e46b0420
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Thu Aug 19 16:50:37 2021 +0800

    Fix logic when iterating fallback lang for news lang
    
    BUG: 441028
    (cherry picked from commit 724ba29320477a5b7a5035fe8882ab611edf9fe1)

commit feec6f4aee15c754dc0249ab71d3c01b238f5e5f
Author: l10n daemon script <scripty@kde.org>
Date:   Thu Aug 19 01:38:15 2021 +0000

    GIT_SILENT made messages (after extraction)

commit a18bc06597084181b4e23f27c18d33570bdfe0d6
Author: Dmitry Kazakov <dimula73@gmail.com>
Date:   Wed Aug 18 14:11:04 2021 +0300

    Remove the last traces of png2ico
    
    It has been replaced with icoutils long ago
    
    (cherry picked from commit 1f822fe4748acace1f15fa8735594ac3a1f0e7f2)

commit 3a35c308304b7fe0a0155093bb3f963c913b5981
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Wed Aug 18 18:59:31 2021 +0800

    Fix TestTag, set language to en for all tests
    
    Fix test broken by 6320e451a76f956eaf2eded4575828a4fcb286fe
    
    
    (cherry picked from commit 86c2989881a5b0ca397f6765f25c913b3cd1792b)

commit 141237e98e18922cfa9a1d4d103caeb2eb4d5ace
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Wed Aug 18 18:46:57 2021 +0800

    Change text of drop_frames to tooltip and shorten the name
    
    BUG: 440889
    
    
    (cherry picked from commit af02087a9bedda260cb725262f15bbff11024190)

commit 7b556c85bc115d48f2f51c7e0589a081c90317ca
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Wed Aug 18 18:32:05 2021 +0800

    Add i18n for anim playback speed prefix
    
    
    (cherry picked from commit 1ae4f5d43f263fe08add1e2975c3b1f5f156ee52)

commit 3c78a50e5d9f48a3fa640adfce2afe2853065d26
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Aug 18 12:03:45 2021 +0200

    Convert weak pointer to strong ref before dereferencing
    
    (cherry picked from commit 40c4a0a98db58da6bac894b5c9dcd1e575bcf545)

commit 893b4bef8ae66d9f127a962441e0b08d0d09b7dc
Author: Michał Chojnowski <mc394134@students.mimuw.edu.pl>
Date:   Wed Aug 18 01:45:48 2021 +0200

    Fix a segfault in gamut mask toolbar
    
    After deleting a gamut mask (or cancelling the creation of
    a new gamut mask), using the gamut mask toggle button
    in the gamut mask toolbar (available in circular artistic
    color selectors) causes a segfault.
    
    This is because the toolbar attempts to dereference a pointer to the
    deleted gamut mask. This pointer should be nulled when the mask is
    unset.
    
    BUG:441122
    (cherry picked from commit 27fdf04dbc33719ac5d7df1ac86176bee3df807d)

commit 36186e580057fa0db1041d921a9f828c2b4945b5
Author: Halla Rempt <halla@valdyas.org>
Date:   Wed Aug 18 10:54:45 2021 +0200

    Remove unused modules
    
    (cherry picked from commit 06cdb9cb8390c5bbc84041e799c6b190c6b5bf51)

commit a635c0998257ff7450f1d3eda36ba736b6654451
Author: Alvin Wong <alvin@alvinhc.com>
Date:   Wed Aug 18 15:30:28 2021 +0800

    Revert stale translation changes
    
    This partially reverts commit fd7ec51dd1e66fc3aa92a6021036fb711ba69003.
